<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:image:alt" content="Accumulating thoughts, knowledge, tips and anything that is worth keeping a not of. These notes are build using the obsidian tool and deployed here as well for easy access."/><meta data-react-helmet="true" name="twitter:image" content="https://deepaksood619.github.io/wiki/graph-visualisation.jpg"/><meta data-react-helmet="true" name="twitter:description" content="Important Points The primary key is already an index We can&#x27;t have a Primary Key column with a NULLvalue. Using composite in…"/><meta data-react-helmet="true" name="twitter:title" content="MySQL Indexing"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="article:section" content="None"/><meta data-react-helmet="true" property="article:author" content="http://examples.opengraphprotocol.us/profile.html"/><meta data-react-helmet="true" property="article:modified_time" content="2023-01-07T04:13:18.000Z"/><meta data-react-helmet="true" property="article:published_time" content="2022-12-11T06:36:19.000Z"/><meta data-react-helmet="true" property="og:description" content="Important Points The primary key is already an index We can&#x27;t have a Primary Key column with a NULLvalue. Using composite in…"/><meta data-react-helmet="true" property="og:site_name"/><meta data-react-helmet="true" property="og:image:alt" content="Accumulating thoughts, knowledge, tips and anything that is worth keeping a not of. These notes are build using the obsidian tool and deployed here as well for easy access."/><meta data-react-helmet="true" property="og:image" content="https://deepaksood619.github.io/wiki/graph-visualisation.jpg"/><meta data-react-helmet="true" property="og:url" content="https://deepaksood619.github.io/wiki/wiki/Databases/Concepts/Indexing/MySQL-Indexing/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="MySQL Indexing"/><meta data-react-helmet="true" name="image" content="https://deepaksood619.github.io/wiki/graph-visualisation.jpg"/><meta data-react-helmet="true" name="description" content="Important Points The primary key is already an index We can&#x27;t have a Primary Key column with a NULLvalue. Using composite in…"/><meta name="generator" content="Gatsby 4.6.0"/><style data-href="/wiki/styles.d9e480e5c6375621c4fd.css" data-identity="gatsby-global-css">.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{background-color:#333;border-radius:4px;color:#fff;font-size:14px;line-height:1.4;outline:0;position:relative;transition-property:visibility,opacity,-webkit-transform;transition-property:transform,visibility,opacity;transition-property:transform,visibility,opacity,-webkit-transform;white-space:normal}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{border-top-color:initial;border-width:8px 8px 0;bottom:-7px;left:0;-webkit-transform-origin:center top;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:initial;border-width:0 8px 8px;left:0;top:-7px;-webkit-transform-origin:center bottom;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-left-color:initial;border-width:8px 0 8px 8px;right:-7px;-webkit-transform-origin:center left;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{border-right-color:initial;border-width:8px 8px 8px 0;left:-7px;-webkit-transform-origin:center right;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{color:#333;height:16px;width:16px}.tippy-arrow:before{border-color:transparent;border-style:solid;content:"";position:absolute}.tippy-content{padding:5px 9px;position:relative;z-index:1}.tippy-box[data-theme~=light]{background-color:#fff;box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);color:#26323d}.tippy-box[data-theme~=light][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff}.tippy-box[data-theme~=light][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff}.tippy-box[data-theme~=light]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light]>.tippy-svg-arrow{fill:#fff}html{font-family:SF Pro SC,SF Pro Text,SF Pro Icons,PingFang SC,Helvetica Neue,Helvetica,Arial,sans-serif}body{word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;-ms-word-break:break-all;word-break:break-word}blockquote,body,dd,dt,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,html,iframe,legend,p,pre,textarea{margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}button,input,select{margin:0}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}img,video{height:auto;max-width:100%}iframe{border:0}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style><style data-styled="" data-styled-version="5.3.5">.fnAJEh{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;font-size:14px;background-color:#005cc5;color:#ffffff;padding:16px;}/*!sc*/
.fnAJEh:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.fnAJEh:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.czsBQU{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;color:#ffffff;margin-right:16px;}/*!sc*/
.czsBQU:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.czsBQU:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.kLOWMo{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;color:#ffffff;}/*!sc*/
.kLOWMo:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.kLOWMo:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.kEUvCO{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;display:block;color:inherit;margin-left:24px;}/*!sc*/
.kEUvCO:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.kEUvCO:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.fdzjHV{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;color:#24292e;display:block;}/*!sc*/
.fdzjHV:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.fdzjHV:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.bQLMRL{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;font-size:16px;display:inline-block;padding-top:4px;padding-bottom:4px;color:#586069;font-weight:medium;}/*!sc*/
.bQLMRL:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.bQLMRL:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){.bQLMRL{font-size:14px;}}/*!sc*/
.ekSqTm{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;padding:8px;margin-left:-32px;color:#2f363d;}/*!sc*/
.ekSqTm:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.ekSqTm:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.cKRjba{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.cKRjba:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.cKRjba:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.iLYDsn{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;margin-bottom:4px;}/*!sc*/
.iLYDsn:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.iLYDsn:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
data-styled.g1[id="Link-sc-1brdqhf-0"]{content:"fnAJEh,czsBQU,kLOWMo,kEUvCO,fdzjHV,bQLMRL,ekSqTm,cKRjba,iLYDsn,"}/*!sc*/
.EuMgV{z-index:20;width:auto;height:auto;-webkit-clip:auto;clip:auto;position:absolute;overflow:hidden;}/*!sc*/
.EuMgV:not(:focus){-webkit-clip:rect(1px,1px,1px,1px);clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;width:1px;margin:-1px;padding:0;}/*!sc*/
data-styled.g2[id="skip-link__SkipLink-sc-1z0kjxc-0"]{content:"EuMgV,"}/*!sc*/
.fbaWCe{display:none;margin-left:8px;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.fbaWCe{display:inline;}}/*!sc*/
.bLwTGz{font-weight:600;display:inline-block;margin-bottom:4px;}/*!sc*/
.cQAYyE{font-weight:600;}/*!sc*/
.hHOTlN{text-align:center;font-size:14px;margin-top:8px;margin-bottom:16px;color:#6a737d;}/*!sc*/
.fWAlyn{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;}/*!sc*/
.gHwtLv{font-size:14px;color:#444d56;margin-top:4px;}/*!sc*/
data-styled.g4[id="Text-sc-1s3uzov-0"]{content:"fbaWCe,bLwTGz,cQAYyE,hHOTlN,fWAlyn,gHwtLv,"}/*!sc*/
.ifkhtm{background-color:#ffffff;color:#24292e;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.gSrgIV{top:0;z-index:1;position:-webkit-sticky;position:sticky;}/*!sc*/
.iTlzRc{padding-left:16px;padding-right:16px;background-color:#24292e;color:rgba(255,255,255,0.7);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:66px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.iTlzRc{padding-left:24px;padding-right:24px;}}/*!sc*/
.kCrfOd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.gELiHA{margin-left:24px;display:none;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.gELiHA{display:block;}}/*!sc*/
.gYHnkh{position:relative;}/*!sc*/
.dMFMzl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.jhCmHN{display:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.jhCmHN{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
.elXfHl{color:rgba(255,255,255,0.7);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.gjFLbZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.gjFLbZ{display:none;}}/*!sc*/
.gucKKf{color:rgba(255,255,255,0.7);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;background-color:none;cursor:pointer;}/*!sc*/
.gucKKf:hover{fill:rgba(255,255,255,0.7);color:rgba(255,255,255,0.7);}/*!sc*/
.gucKKf svg{fill:rgba(255,255,255,0.7);}/*!sc*/
.fBMuRw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}/*!sc*/
.bQaVuO{color:#2f363d;background-color:#fafbfc;display:none;height:calc(100vh - 66px);min-width:260px;max-width:360px;position:-webkit-sticky;position:sticky;top:66px;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.bQaVuO{display:block;}}/*!sc*/
.eeDmz{height:100%;border-style:solid;border-color:#e1e4e8;border-width:0;border-right-width:1px;border-radius:0;}/*!sc*/
.kSoTbZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.nElVQ{padding:24px;border-style:solid;border-color:#e1e4e8;border-width:0;border-radius:0;border-top-width:1px;}/*!sc*/
.iXtyim{margin-left:0;padding-top:4px;padding-bottom:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-style:solid;border-color:#e1e4e8;border-width:0;border-radius:0;border-bottom-width:0;}/*!sc*/
.vaHQm{margin-bottom:4px;margin-top:4px;font-size:14px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.hIjKHD{color:#586069;font-weight:400;display:block;}/*!sc*/
.icYakO{padding-left:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}/*!sc*/
.klfmeZ{max-width:1440px;-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
.TZbDV{padding:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;}/*!sc*/
@media screen and (min-width:544px){.TZbDV{padding:32px;}}/*!sc*/
@media screen and (min-width:768px){.TZbDV{padding:40px;}}/*!sc*/
@media screen and (min-width:1012px){.TZbDV{padding:48px;}}/*!sc*/
.DPDMP{display:none;max-height:calc(100vh - 66px - 24px);position:-webkit-sticky;position:sticky;top:90px;width:220px;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:40px;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){.DPDMP{display:block;}}/*!sc*/
.gUNLMu{margin:0;padding:0;}/*!sc*/
.bzTeHX{padding-left:0;}/*!sc*/
.bnaGYs{padding-left:16px;}/*!sc*/
.meQBK{width:100%;}/*!sc*/
.jYYExC{margin-bottom:32px;background-color:#f6f8fa;display:block;border-width:1px;border-style:solid;border-color:#e1e4e8;border-radius:6px;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){.jYYExC{display:none;}}/*!sc*/
.hgiZBa{padding:16px;}/*!sc*/
.hnQOQh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.gEqaxf{padding:16px;border-top:1px solid;border-color:border.gray;}/*!sc*/
.jNnzYF{position:relative;display:table;table-layout:fixed;width:100%;}/*!sc*/
.eLWiuh{padding:8px;position:absolute;top:0;right:0;}/*!sc*/
.iCCWeC{margin-top:0;margin-bottom:16px;padding:16px;border:0;border-radius:6px;}/*!sc*/
.ksEcN{margin-top:64px;padding-top:32px;padding-bottom:32px;border-style:solid;border-color:#e1e4e8;border-width:0;border-top-width:1px;border-radius:0;}/*!sc*/
.jsSpbO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
data-styled.g5[id="Box-nv15kw-0"]{content:"ifkhtm,gSrgIV,iTlzRc,kCrfOd,gELiHA,gYHnkh,dMFMzl,jhCmHN,elXfHl,gjFLbZ,gucKKf,fBMuRw,bQaVuO,eeDmz,kSoTbZ,nElVQ,iXtyim,vaHQm,hIjKHD,icYakO,klfmeZ,TZbDV,DPDMP,gUNLMu,bzTeHX,bnaGYs,meQBK,jYYExC,hgiZBa,hnQOQh,gEqaxf,jNnzYF,eLWiuh,iCCWeC,ksEcN,jsSpbO,"}/*!sc*/
.cjGjQg{position:relative;display:inline-block;padding:6px 16px;font-family:inherit;font-weight:600;line-height:20px;white-space:nowrap;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;font-size:14px;}/*!sc*/
.cjGjQg:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.cjGjQg:focus{outline:none;}/*!sc*/
.cjGjQg:disabled{cursor:default;}/*!sc*/
.cjGjQg:disabled svg{opacity:0.6;}/*!sc*/
data-styled.g6[id="ButtonBase-sc-181ps9o-0"]{content:"cjGjQg,"}/*!sc*/
.cCazJI{color:#24292e;background-color:#fafbfc;border:1px solid rgba(27,31,35,0.15);box-shadow:0 1px 0 rgba(27,31,35,0.04),inset 0 1px 0 rgba(255,255,255,0.25);padding-left:8px;padding-right:8px;}/*!sc*/
.cCazJI:hover{background-color:#f3f4f6;border-color:rgba(27,31,35,0.15);}/*!sc*/
.cCazJI:focus{border-color:rgba(27,31,35,0.15);box-shadow:0 0 0 3px rgba(3,102,214,0.3);}/*!sc*/
.cCazJI:active{background-color:hsla(220,14%,94%,1);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,0.15);}/*!sc*/
.cCazJI:disabled{color:#959da5;background-color:#fafbfc;border-color:rgba(27,31,35,0.15);}/*!sc*/
data-styled.g7[id="Button-xjtz72-0"]{content:"cCazJI,"}/*!sc*/
.cmMzjy{color:#6a737d;}/*!sc*/
.fafffn{margin-right:8px;}/*!sc*/
data-styled.g8[id="StyledOcticon-uhnt7w-0"]{content:"bhRGQB,cmMzjy,fafffn,"}/*!sc*/
.fTkTnC{font-weight:600;font-size:32px;margin:0;font-size:12px;font-weight:500;color:#959da5;margin-bottom:4px;text-transform:uppercase;font-family:Content-font,Roboto,sans-serif;}/*!sc*/
.ffNRvO{font-weight:600;font-size:32px;margin:0;}/*!sc*/
data-styled.g12[id="Heading-sc-1cjoo9h-0"]{content:"fTkTnC,ffNRvO,"}/*!sc*/
.ifFLoZ{color:#0366d6;border:1px solid rgba(27,31,35,0.15);background-color:#fafbfc;box-shadow:0 1px 0 rgba(27,31,35,0.04);margin-left:16px;}/*!sc*/
.ifFLoZ:hover{color:#ffffff;background-color:#0366d6;border-color:rgba(27,31,35,0.15);box-shadow:0 1px 0 rgba(27,31,35,0.1);}/*!sc*/
.ifFLoZ:focus{border-color:rgba(27,31,35,0.15);box-shadow:0 0 0 3px rgba(0,92,197,0.4);}/*!sc*/
.ifFLoZ:active{color:#ffffff;background-color:hsla(212,97%,40%,1);box-shadow:inset 0 1px 0 rgba(5,38,76,0.2);border-color:rgba(27,31,35,0.15);}/*!sc*/
.ifFLoZ:disabled{color:rgba(3,102,214,0.5);background-color:#fafbfc;border-color:rgba(27,31,35,0.15);}/*!sc*/
.fKTxJr{color:#0366d6;border:1px solid rgba(27,31,35,0.15);background-color:#fafbfc;box-shadow:0 1px 0 rgba(27,31,35,0.04);}/*!sc*/
.fKTxJr:hover{color:#ffffff;background-color:#0366d6;border-color:rgba(27,31,35,0.15);box-shadow:0 1px 0 rgba(27,31,35,0.1);}/*!sc*/
.fKTxJr:focus{border-color:rgba(27,31,35,0.15);box-shadow:0 0 0 3px rgba(0,92,197,0.4);}/*!sc*/
.fKTxJr:active{color:#ffffff;background-color:hsla(212,97%,40%,1);box-shadow:inset 0 1px 0 rgba(5,38,76,0.2);border-color:rgba(27,31,35,0.15);}/*!sc*/
.fKTxJr:disabled{color:rgba(3,102,214,0.5);background-color:#fafbfc;border-color:rgba(27,31,35,0.15);}/*!sc*/
.cXFtEt{color:#0366d6;border:1px solid rgba(27,31,35,0.15);background-color:#fafbfc;box-shadow:0 1px 0 rgba(27,31,35,0.04);margin-left:16px;}/*!sc*/
.cXFtEt:hover{color:#ffffff;background-color:#0366d6;border-color:rgba(27,31,35,0.15);box-shadow:0 1px 0 rgba(27,31,35,0.1);}/*!sc*/
.cXFtEt:focus{border-color:rgba(27,31,35,0.15);box-shadow:0 0 0 3px rgba(0,92,197,0.4);}/*!sc*/
.cXFtEt:active{color:#ffffff;background-color:hsla(212,97%,40%,1);box-shadow:inset 0 1px 0 rgba(5,38,76,0.2);border-color:rgba(27,31,35,0.15);}/*!sc*/
.cXFtEt:disabled{color:rgba(3,102,214,0.5);background-color:#fafbfc;border-color:rgba(27,31,35,0.15);}/*!sc*/
data-styled.g13[id="ButtonOutline-sc-15gta9l-0"]{content:"ifFLoZ,fKTxJr,cXFtEt,"}/*!sc*/
.iEGqHu{color:rgba(255,255,255,0.7);background-color:transparent;border:1px solid #444d56;box-shadow:none;}/*!sc*/
data-styled.g14[id="dark-button__DarkButton-sc-bvvmfe-0"]{content:"iEGqHu,"}/*!sc*/
.ljCWQd{border:0;font-size:inherit;font-family:inherit;background-color:transparent;-webkit-appearance:none;color:inherit;width:100%;}/*!sc*/
.ljCWQd:focus{outline:0;}/*!sc*/
data-styled.g15[id="TextInput__Input-sc-1apmpmt-0"]{content:"ljCWQd,"}/*!sc*/
.dHfzvf{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;min-height:34px;font-size:14px;line-height:20px;color:#24292e;vertical-align:middle;background-repeat:no-repeat;background-position:right 8px center;border:1px solid #e1e4e8;border-radius:6px;outline:none;box-shadow:inset 0 1px 0 rgba(225,228,232,0.2);padding:6px 12px;width:240px;}/*!sc*/
.dHfzvf .TextInput-icon{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;color:#959da5;margin:0 8px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}/*!sc*/
.dHfzvf:focus-within{border-color:#0366d6;box-shadow:0 0 0 3px rgba(3,102,214,0.3);}/*!sc*/
@media (min-width:768px){.dHfzvf{font-size:14px;}}/*!sc*/
data-styled.g16[id="TextInput__Wrapper-sc-1apmpmt-1"]{content:"dHfzvf,"}/*!sc*/
.khRwtY{font-size:16px !important;color:rgba(255,255,255,0.7);background-color:rgba(255,255,255,0.07);border:1px solid transparent;box-shadow:none;}/*!sc*/
.khRwtY:focus{border:1px solid #444d56 outline:none;box-shadow:none;}/*!sc*/
data-styled.g17[id="dark-text-input__DarkTextInput-sc-1s2iwzn-0"]{content:"khRwtY,"}/*!sc*/
.bqVpte.active{font-weight:600;color:#2f363d;}/*!sc*/
data-styled.g19[id="nav-items__NavLink-sc-tqz5wl-0"]{content:"bqVpte,"}/*!sc*/
.kEKZhO.active{font-weight:600;color:#2f363d;}/*!sc*/
data-styled.g20[id="nav-items__NavBox-sc-tqz5wl-1"]{content:"kEKZhO,"}/*!sc*/
.gCPbFb{margin-top:24px;margin-bottom:16px;-webkit-scroll-margin-top:90px;-moz-scroll-margin-top:90px;-ms-scroll-margin-top:90px;scroll-margin-top:90px;}/*!sc*/
.gCPbFb .octicon-link{visibility:hidden;}/*!sc*/
.gCPbFb:hover .octicon-link,.gCPbFb:focus-within .octicon-link{visibility:visible;}/*!sc*/
data-styled.g22[id="heading__StyledHeading-sc-1fu06k9-0"]{content:"gCPbFb,"}/*!sc*/
.fGjcEF{margin-top:0;padding-bottom:4px;font-size:32px;border-bottom:1px solid #e1e4e8;}/*!sc*/
data-styled.g23[id="heading__StyledH1-sc-1fu06k9-1"]{content:"fGjcEF,"}/*!sc*/
.fvbkiW{padding-bottom:4px;font-size:24px;border-bottom:1px solid #e1e4e8;}/*!sc*/
data-styled.g24[id="heading__StyledH2-sc-1fu06k9-2"]{content:"fvbkiW,"}/*!sc*/
.elBfYx{max-width:100%;box-sizing:content-box;background-color:#ffffff;}/*!sc*/
data-styled.g30[id="image__Image-sc-1r30dtv-0"]{content:"elBfYx,"}/*!sc*/
.jyryuZ{padding:0.2em 0.4em;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;background-color:rgba(27,31,35,0.05);border-radius:3px;}/*!sc*/
data-styled.g31[id="inline-code__InlineCode-sc-5lgfx8-0"]{content:"jyryuZ,"}/*!sc*/
.dFVIUa{padding-left:2em;margin-bottom:4px;}/*!sc*/
.dFVIUa ul,.dFVIUa ol{margin-top:0;margin-bottom:0;}/*!sc*/
.dFVIUa li{line-height:1.6;}/*!sc*/
.dFVIUa li > p{margin-top:16px;}/*!sc*/
.dFVIUa li + li{margin-top:8px;}/*!sc*/
data-styled.g32[id="list__List-sc-s5kxp2-0"]{content:"dFVIUa,"}/*!sc*/
.iNQqSl{margin:0 0 16px;}/*!sc*/
data-styled.g34[id="paragraph__Paragraph-sc-17pab92-0"]{content:"iNQqSl,"}/*!sc*/
.eooEiq{display:block;width:100%;margin:0 0 16px;overflow:auto;}/*!sc*/
.eooEiq th{font-weight:600;}/*!sc*/
.eooEiq th,.eooEiq td{padding:8px 16px;border:1px solid #e1e4e8;}/*!sc*/
.eooEiq tr{background-color:#ffffff;border-top:1px solid #e1e4e8;}/*!sc*/
.eooEiq tr:nth-child(2n){background-color:#f6f8fa;}/*!sc*/
.eooEiq img{background-color:transparent;}/*!sc*/
data-styled.g35[id="table__Table-sc-ixm5yk-0"]{content:"eooEiq,"}/*!sc*/
.drDDht{z-index:0;}/*!sc*/
data-styled.g37[id="layout___StyledBox-sc-7a5ttt-0"]{content:"drDDht,"}/*!sc*/
.flyUPp{list-style:none;}/*!sc*/
data-styled.g39[id="table-of-contents___StyledBox-sc-1jtv948-0"]{content:"flyUPp,"}/*!sc*/
.bPkrfP{grid-area:table-of-contents;overflow:auto;}/*!sc*/
data-styled.g40[id="post-page___StyledBox-sc-17hbw1s-0"]{content:"bPkrfP,"}/*!sc*/
</style><title data-react-helmet="true">MySQL Indexing - Everything that I know</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/wiki/favicon-32x32.png?v=5a308f5ba2cede7d3eae15d720a4e776" type="image/png"/><link rel="manifest" href="/wiki/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/wiki/icons/icon-48x48.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="72x72" href="/wiki/icons/icon-72x72.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="96x96" href="/wiki/icons/icon-96x96.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="144x144" href="/wiki/icons/icon-144x144.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="192x192" href="/wiki/icons/icon-192x192.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="256x256" href="/wiki/icons/icon-256x256.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="384x384" href="/wiki/icons/icon-384x384.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="512x512" href="/wiki/icons/icon-512x512.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="sitemap" type="application/xml" href="/wiki/sitemap/sitemap-index.xml"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link as="script" rel="preload" href="/wiki/webpack-runtime-07e8faa2a261685889a0.js"/><link as="script" rel="preload" href="/wiki/framework-6c63f85700e5678d2c2a.js"/><link as="script" rel="preload" href="/wiki/f0e45107-3309acb69b4ccd30ce0c.js"/><link as="script" rel="preload" href="/wiki/0e226fb0-1cb0709e5ed968a9c435.js"/><link as="script" rel="preload" href="/wiki/dc6a8720040df98778fe970bf6c000a41750d3ae-8fdfd959b24cacbf7cee.js"/><link as="script" rel="preload" href="/wiki/app-3f4d8f561104a074e339.js"/><link as="script" rel="preload" href="/wiki/commons-c89ede6cb9a530ac5a37.js"/><link as="script" rel="preload" href="/wiki/component---node-modules-gatsby-theme-primer-wiki-src-templates-post-query-js-46274f1a3983fff8a36b.js"/><link as="fetch" rel="preload" href="/wiki/page-data/Databases/Concepts/Indexing/MySQL-Indexing/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/sq/d/2230547434.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/sq/d/2320115945.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/sq/d/3495835395.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/sq/d/451533639.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><a class="Link-sc-1brdqhf-0 fnAJEh skip-link__SkipLink-sc-1z0kjxc-0 EuMgV" color="auto.white" href="#skip-nav" font-size="1">Skip to content</a><div display="flex" color="text.primary" class="Box-nv15kw-0 ifkhtm"><div class="Box-nv15kw-0 gSrgIV"><div display="flex" height="66" color="header.text" class="Box-nv15kw-0 iTlzRc"><div display="flex" class="Box-nv15kw-0 kCrfOd"><a color="header.logo" mr="3" class="Link-sc-1brdqhf-0 czsBQU" href="/wiki/"><svg aria-hidden="true" role="img" class="StyledOcticon-uhnt7w-0 bhRGQB" viewBox="0 0 16 16" width="32" height="32" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a><a color="header.logo" font-family="mono" class="Link-sc-1brdqhf-0 kLOWMo" href="/wiki/">Deepak Wiki</a><div display="none,,,block" class="Box-nv15kw-0 gELiHA"><div role="combobox" aria-expanded="false" aria-haspopup="listbox" aria-labelledby="downshift-search-label" class="Box-nv15kw-0 gYHnkh"><span class="TextInput__Wrapper-sc-1apmpmt-1 dHfzvf dark-text-input__DarkTextInput-sc-1s2iwzn-0 khRwtY TextInput-wrapper" width="240"><input type="text" aria-autocomplete="list" aria-labelledby="downshift-search-label" autoComplete="off" value="" id="downshift-search-input" placeholder="Search Deepak Wiki" class="TextInput__Input-sc-1apmpmt-0 ljCWQd"/></span></div></div></div><div display="flex" class="Box-nv15kw-0 dMFMzl"><div display="none,,,flex" class="Box-nv15kw-0 jhCmHN"><div display="flex" color="header.text" class="Box-nv15kw-0 elXfHl"><a display="block" color="inherit" target="_blank" rel="noopener noreferrer" href="https://github.com/deepaksood619/wiki/" class="Link-sc-1brdqhf-0 kEUvCO">Github</a><a display="block" color="inherit" target="_blank" rel="noopener noreferrer" href="https://twitter.com/deepaksood619" class="Link-sc-1brdqhf-0 kEUvCO">Twitter</a></div><button aria-label="Theme" aria-expanded="false" class="ButtonBase-sc-181ps9o-0 ButtonOutline-sc-15gta9l-0 dark-button__DarkButton-sc-bvvmfe-0 cjGjQg ifFLoZ iEGqHu"><svg aria-hidden="true" role="img" class="octicon octicon-sun" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z"></path></svg></button></div><div display="flex,,,none" class="Box-nv15kw-0 gjFLbZ"><button aria-label="Search" aria-expanded="false" class="ButtonBase-sc-181ps9o-0 ButtonOutline-sc-15gta9l-0 dark-button__DarkButton-sc-bvvmfe-0 cjGjQg fKTxJr iEGqHu"><svg aria-hidden="true" role="img" class="octicon octicon-search" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg></button></div><button aria-label="Show Graph Visualisation" class="ButtonBase-sc-181ps9o-0 ButtonOutline-sc-15gta9l-0 dark-button__DarkButton-sc-bvvmfe-0 cjGjQg cXFtEt iEGqHu"><div title="Show Graph Visualisation" aria-label="Show Graph Visualisation" color="header.text" display="flex" class="Box-nv15kw-0 gucKKf"><svg t="1607341341241" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M512 512m-125.866667 0a125.866667 125.866667 0 1 0 251.733334 0 125.866667 125.866667 0 1 0-251.733334 0Z"></path><path d="M512 251.733333m-72.533333 0a72.533333 72.533333 0 1 0 145.066666 0 72.533333 72.533333 0 1 0-145.066666 0Z"></path><path d="M614.4 238.933333c0 4.266667 2.133333 8.533333 2.133333 12.8 0 19.2-4.266667 36.266667-12.8 51.2 81.066667 36.266667 138.666667 117.333333 138.666667 211.2C742.4 640 640 744.533333 512 744.533333s-230.4-106.666667-230.4-232.533333c0-93.866667 57.6-174.933333 138.666667-211.2-8.533333-14.933333-12.8-32-12.8-51.2 0-4.266667 0-8.533333 2.133333-12.8-110.933333 42.666667-189.866667 147.2-189.866667 273.066667 0 160 130.133333 292.266667 292.266667 292.266666S804.266667 672 804.266667 512c0-123.733333-78.933333-230.4-189.866667-273.066667z"></path><path d="M168.533333 785.066667m-72.533333 0a72.533333 72.533333 0 1 0 145.066667 0 72.533333 72.533333 0 1 0-145.066667 0Z"></path><path d="M896 712.533333m-61.866667 0a61.866667 61.866667 0 1 0 123.733334 0 61.866667 61.866667 0 1 0-123.733334 0Z"></path><path d="M825.6 772.266667c-74.666667 89.6-187.733333 147.2-313.6 147.2-93.866667 0-181.333333-32-249.6-87.466667-10.666667 19.2-25.6 34.133333-44.8 44.8C298.666667 942.933333 401.066667 981.333333 512 981.333333c149.333333 0 281.6-70.4 366.933333-177.066666-21.333333-4.266667-40.533333-17.066667-53.333333-32zM142.933333 684.8c-25.6-53.333333-38.4-110.933333-38.4-172.8C104.533333 288 288 104.533333 512 104.533333S919.466667 288 919.466667 512c0 36.266667-6.4 72.533333-14.933334 106.666667 23.466667 2.133333 42.666667 10.666667 57.6 25.6 12.8-42.666667 19.2-87.466667 19.2-132.266667 0-258.133333-211.2-469.333333-469.333333-469.333333S42.666667 253.866667 42.666667 512c0 74.666667 17.066667 142.933333 46.933333 204.8 14.933333-14.933333 32-27.733333 53.333333-32z"></path></svg><span display="none,,,inline" class="Text-sc-1s3uzov-0 fbaWCe">Show Graph Visualisation</span></div></button><div display="flex,,,none" class="Box-nv15kw-0 gjFLbZ"><button aria-label="Menu" aria-expanded="false" class="ButtonBase-sc-181ps9o-0 ButtonOutline-sc-15gta9l-0 dark-button__DarkButton-sc-bvvmfe-0 cjGjQg ifFLoZ iEGqHu"><svg aria-hidden="true" role="img" class="octicon octicon-three-bars" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path></svg></button></div></div></div></div><div display="flex" class="Box-nv15kw-0 layout___StyledBox-sc-7a5ttt-0 fBMuRw drDDht"><div display="none,,,block" height="calc(100vh - 66px)" color="auto.gray.8" class="Box-nv15kw-0 bQaVuO"><div height="100%" style="overflow:auto" class="Box-nv15kw-0 eeDmz"><div display="flex" class="Box-nv15kw-0 kSoTbZ"><div class="Box-nv15kw-0 nElVQ"><div display="flex" class="Box-nv15kw-0 kSoTbZ"><h2 color="text.disabled" font-size="12px" font-weight="500" class="Heading-sc-1cjoo9h-0 fTkTnC">Categories</h2><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">AI</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Algorithms</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Computer-Science</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Data-Structures</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Databases</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Knowledge</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Languages</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Mathematics</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Technologies</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><a color="text.primary" class="Link-sc-1brdqhf-0 nav-items__NavLink-sc-tqz5wl-0 fdzjHV bqVpte" display="block" sx="[object Object]" href="/wiki/">wiki</a><div display="flex" class="Box-nv15kw-0 icYakO"></div></div></div></div></div></div></div></div><main class="Box-nv15kw-0 klfmeZ"><div id="skip-nav" display="flex" width="100%" class="Box-nv15kw-0 TZbDV"><div display="none,,block" class="Box-nv15kw-0 post-page___StyledBox-sc-17hbw1s-0 DPDMP bPkrfP"><span display="inline-block" font-weight="bold" class="Text-sc-1s3uzov-0 bLwTGz">On this page</span><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bzTeHX"><a display="inline-block" href="#mysql-indexing" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">MySQL Indexing</a><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#important-points" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Important Points</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#you-should-never-make-these-mistakes-again" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">You should never make these mistakes again</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#examples" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Examples</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#clustered-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">clustered index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#relationship-between-primary-key--clustered-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Relationship between Primary Key &amp; Clustered Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#secondary-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">secondary index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#search-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">search index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#primary-key-indexes---mysql" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Primary Key Indexes - MySQL</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#disadvantages-of-primary-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Disadvantages of Primary Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#secondary-indexes" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Secondary Indexes</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#disadvantages-of-a-secondary-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Disadvantages of a Secondary Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#unique-key-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">UNIQUE Key Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#composite-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Composite Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#why-do-we-use-composite-indices-why-not-define-multiple-secondary-indices-on-the-columns-we-are-interested-in" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Why do we use composite indices? Why not define multiple secondary indices on the columns we are interested in?</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#how-does-composite-index-work" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">How does composite index work?</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#how-to-identify-if-you-need-a-composite-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">How to identify if you need a composite index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#covering-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Covering Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#partial-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Partial Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#what-happens-under-the-hood-when-we-define-an-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">What happens under the hood when we define an index?</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#how-indexes-affect-order-and-group-by" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">How Indexes Affect ORDER and GROUP BY</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-ab" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">INDEX (a,b)</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#range-queries" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Range Queries</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#if-youre-utilizing-an-index-for-range-queries-try-make-sure-the-column-youre-performing-the-range-over-is-ordered-last-within-the-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">If you&#x27;re utilizing an index for range queries, try make sure the column you&#x27;re performing the range over is ordered last within the index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-condition-pushdown" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Index Condition Pushdown</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#prefix-ranges" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Prefix ranges?</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#examples-1" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Examples</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-a-b-vs-index-b-a" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">INDEX (a, b) VS INDEX (b, a)</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-a-b-c" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">INDEX (a, b, c)</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#dont-use-functions-in-your-queries" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Don&#x27;t use functions in your queries</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#redundant-indexes" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Redundant indexes</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-merge" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Index Merge</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-not-used" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Index not used</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#general-indexing-guidelines" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">General Indexing guidelines</a></li></ul></li><li class="Box-nv15kw-0 bzTeHX"><a display="inline-block" href="#show-cardinality-of-a-table" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">show cardinality of a table</a><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#unused-indexes" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Unused indexes</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#rebuilding-or-repairing-tables-or-indexes" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Rebuilding or Repairing Tables or Indexes</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#methods-for-rebuilding-a-table-include" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Methods for rebuilding a table include</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#mysql-80---invisible-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">MySQL 8.0 - Invisible Index</a></li></ul></li></ul></div><div width="100%" class="Box-nv15kw-0 meQBK"><div display="block,,none" class="Box-nv15kw-0 jYYExC"><div class="Box-nv15kw-0 hgiZBa"><div display="flex" class="Box-nv15kw-0 hnQOQh"><span font-weight="bold" class="Text-sc-1s3uzov-0 cQAYyE">On this page</span></div></div><div class="Box-nv15kw-0 gEqaxf"><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bzTeHX"><a display="inline-block" href="#mysql-indexing" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">MySQL Indexing</a><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#important-points" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Important Points</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#you-should-never-make-these-mistakes-again" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">You should never make these mistakes again</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#examples" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Examples</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#clustered-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">clustered index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#relationship-between-primary-key--clustered-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Relationship between Primary Key &amp; Clustered Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#secondary-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">secondary index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#search-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">search index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#primary-key-indexes---mysql" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Primary Key Indexes - MySQL</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#disadvantages-of-primary-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Disadvantages of Primary Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#secondary-indexes" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Secondary Indexes</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#disadvantages-of-a-secondary-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Disadvantages of a Secondary Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#unique-key-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">UNIQUE Key Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#composite-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Composite Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#why-do-we-use-composite-indices-why-not-define-multiple-secondary-indices-on-the-columns-we-are-interested-in" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Why do we use composite indices? Why not define multiple secondary indices on the columns we are interested in?</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#how-does-composite-index-work" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">How does composite index work?</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#how-to-identify-if-you-need-a-composite-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">How to identify if you need a composite index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#covering-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Covering Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#partial-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Partial Index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#what-happens-under-the-hood-when-we-define-an-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">What happens under the hood when we define an index?</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#how-indexes-affect-order-and-group-by" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">How Indexes Affect ORDER and GROUP BY</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-ab" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">INDEX (a,b)</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#range-queries" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Range Queries</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#if-youre-utilizing-an-index-for-range-queries-try-make-sure-the-column-youre-performing-the-range-over-is-ordered-last-within-the-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">If you&#x27;re utilizing an index for range queries, try make sure the column you&#x27;re performing the range over is ordered last within the index</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-condition-pushdown" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Index Condition Pushdown</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#prefix-ranges" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Prefix ranges?</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#examples-1" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Examples</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-a-b-vs-index-b-a" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">INDEX (a, b) VS INDEX (b, a)</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-a-b-c" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">INDEX (a, b, c)</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#dont-use-functions-in-your-queries" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Don&#x27;t use functions in your queries</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#redundant-indexes" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Redundant indexes</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-merge" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Index Merge</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#index-not-used" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Index not used</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#general-indexing-guidelines" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">General Indexing guidelines</a></li></ul></li><li class="Box-nv15kw-0 bzTeHX"><a display="inline-block" href="#show-cardinality-of-a-table" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">show cardinality of a table</a><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#unused-indexes" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Unused indexes</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#rebuilding-or-repairing-tables-or-indexes" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Rebuilding or Repairing Tables or Indexes</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#methods-for-rebuilding-a-table-include" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Methods for rebuilding a table include</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#mysql-80---invisible-index" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">MySQL 8.0 - Invisible Index</a></li></ul></li></ul></div></div><h1 id="mysql-indexing" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH1-sc-1fu06k9-1 ffNRvO gCPbFb fGjcEF Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#mysql-indexing" color="auto.gray.8" aria-label="MySQL Indexing permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>MySQL Indexing</h1><h2 id="important-points" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#important-points" color="auto.gray.8" aria-label="Important Points permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Important Points</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>The primary key is already an index<ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>We can&#x27;t have a Primary Key column with a NULLvalue.</li></ul></li><li>Using composite indexes is vital if you&#x27;re trying to speed up a particular query</li><li>Index order is very VERY important</li><li>Avoid performing file sorts</li><li>In a B-Tree the index is sorted first by the leftmost column, then by the next column, and so on</li><li><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/5.7/en/table-scan-avoidance.html" class="Link-sc-1brdqhf-0 cKRjba">https://dev.mysql.com/doc/refman/5.7/en/table-scan-avoidance.html</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/5.7/en/where-optimization.html" class="Link-sc-1brdqhf-0 cKRjba">https://dev.mysql.com/doc/refman/5.7/en/where-optimization.html</a></li><li>use index hints</li></ul><h2 id="you-should-never-make-these-mistakes-again" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#you-should-never-make-these-mistakes-again" color="auto.gray.8" aria-label="You should never make these mistakes again permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>You should never make these mistakes again</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>Avoid using functions in predicates</li><li>Avoid using a wildcard (%) at the beginning of a predicate (The predicate LIKE<strong>&#x27;%abc&#x27;</strong>causes a full table scan.)</li><li>Avoid unnecessary columns in SELECT clause</li><li>Use inner join, instead of outer join if possible</li></ul><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Use outer join only when it is necessary. Using it needlessly not only limits database performance but also limits MySQL query optimization options, resulting in slower execution of SQL statements.</p><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>Use DISTINCT and UNION only if it is necessary</li></ul><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Using UNION and DISTINCT operators without any major purpose causes unwanted sorting and slowing down of SQL execution. Instead of UNION, using UNION ALL brings more efficiency in the process and improves MySQL performance more precisely.</p><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>The ORDER BY clause is mandatory in SQL if you expect to get a sorted result</li><li>Not taking advantage of indexed top-N queries</li><li>Choosing a poor column order in multi-column indexes</li><li>Inefficient use oflikefilters</li><li>Not using index-only scans</li><li>FullText index is not always used
<a target="_blank" rel="noopener noreferrer" href="https://use-the-index-luke.com/3-minute-test/mysql" class="Link-sc-1brdqhf-0 cKRjba"><strong>https://use-the-index-luke.com/3-minute-test/mysql</strong></a>
Furthermore: typicallyMySQL will only use one index, per table, per query, so things are going to be much more performant if we design a single index to satisfy our lookup!</li></ul><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">A multiple column (composite) index to the rescue!:
To speed this up, we can sort our list by last name and then by first name.
ALTER TABLE <code class="inline-code__InlineCode-sc-5lgfx8-0 jyryuZ">phonebook</code> ADD INDEX (<code class="inline-code__InlineCode-sc-5lgfx8-0 jyryuZ">last_name</code>, <code class="inline-code__InlineCode-sc-5lgfx8-0 jyryuZ">first_name</code>);
SELECT phone_number FROM phonebook where first_name = &#x27;john&#x27; AND last_name = &#x27;south&#x27;;</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:517px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/22ff44edf8ef8d0aa15806dbfd68194a/fa2f5/Indexing_MySQL-Indexing-image1.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:50%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8klEQVQoz1VSy27TQBTNV7JC7JAqqqpSpS7YFCQ2LEC8dl0ikUKrqiqLFlTl4TxoiR/NOE5KHDuT2G4ejhs79owTbM8Mik2FODqbe3WPrs65N7fAdB7QVUQZY5Sy5B4sBaU0K+M4JoRkHcYYIYRSmvMQmbpJVzOHAzgYwCDwEQpsewoh1HV9NBohhIIUlmVBCA3DUFXV8zzGWI4xSkgiN6WWfD0Z3wa+F+LAsgxJFE3DcGZ2GGKMEcZIUZRKhatVq3yj4bruWkwIieOE//pG/LxrFl7q5y/g2fPO+etur4/D1XIVIbzE4QrhpaZDnhcbvNDT+ghhQkgqThLu49PShwe/vjxRDjY6+cdifoevFyaDjmOps5S22W1JPyrF71zhWxs0vLlDKcutIyGklt+r7z/qn+6ox9v6yfZ1fqt2sDcovR2W363JvYeFV83ip3rprHpxoghFf26nnimNE3J1+Oxy/6F2vNU92uwdbYDDXfnqwhmCudlKqdwNm912U5AAL4iaDhFC67Tp2nMsXpZuJO7OVKYQzIYyvBF+CtLt2PbR0l0gz8euj9udDlcuc+UyAMDzvFScXlLtaePJNIsnXP52nHlLlqeTcYhR4C9Q4Af+AsI+ADIAQNf1v5sJIfdf8A9RFCX/d6MoiuOYUprNZz/zB4sKDrPHvkIZAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="Image for post" title="Image for post" src="/wiki/static/22ff44edf8ef8d0aa15806dbfd68194a/fa2f5/Indexing_MySQL-Indexing-image1.png" srcSet="/wiki/static/22ff44edf8ef8d0aa15806dbfd68194a/0d3e1/Indexing_MySQL-Indexing-image1.png 140w,/wiki/static/22ff44edf8ef8d0aa15806dbfd68194a/6b1e2/Indexing_MySQL-Indexing-image1.png 281w,/wiki/static/22ff44edf8ef8d0aa15806dbfd68194a/fa2f5/Indexing_MySQL-Indexing-image1.png 517w" sizes="(max-width: 517px) 100vw, 517px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">Image for post</figcaption>
  </figure>
As an example: the index we&#x27;ve just discussed(last_name, first_name)would not be beneficial for a query such as:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SELECT * FROM phonebook where first_name = &#x27;Donald&#x27;;
This is because we haven&#x27;t specified any criteria for the last_name. The index we built doesn&#x27;t sort first names in any logical distribution that would allow us to quickly search through them, so instead, we must fall back to a full table scan. (refer back to the example pic above).</p><h2 id="examples" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#examples" color="auto.gray.8" aria-label="Examples permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples</h2><div class="Box-nv15kw-0 jNnzYF"><div class="Box-nv15kw-0 eLWiuh"><button aria-label="Copy to clipboard" class="ButtonBase-sc-181ps9o-0 Button-xjtz72-0 cjGjQg cCazJI"><svg aria-hidden="true" role="img" class="StyledOcticon-uhnt7w-0 cmMzjy" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></button></div><pre class="Box-nv15kw-0 iCCWeC prism-code language-sql" style="color:#393A34;background-color:#f6f8fa;overflow:auto"><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">INDEX (last, first)</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">  § WHERE last = … *** Good</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">  § WHERE last = … AND first = … *** Good</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">  § WHERE first = … AND last = … *** Good</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">  § WHERE first = … *** Index Useless</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">INDEX (a, b) VS INDEX (b, a)</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">  § WHERE a = 1 AND b = 3 *** Both work well</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">  § WHERE b = 2 *** Second only</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">  § WHERE a = 4 *** First only</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">INDEX(a), INDEX(b) Is not the same as INDEX(a,b)</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">But using the two indexes (a),(b) can benefit from:</span></div><div class="token-line" style="color:#393A34"><span font-family="mono" font-size="1" class="Text-sc-1s3uzov-0 fWAlyn token plain">(SELECT … WHERE A …) UNION (SELECT … WHERE B …)</span></div></pre></div><h2 id="clustered-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#clustered-index" color="auto.gray.8" aria-label="clustered index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>clustered index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">TheInnoDBterm for aprimary keyindex.InnoDBtable storage is organized based on the values of the primary key columns, to speed up queries and sorts involving the primary key columns. For best performance, choose the primary key columns carefully based on the most performance-critical queries. Because modifying the columns of the clustered index is an expensive operation, choose primary columns that are rarely or never updated.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">In the Oracle Database product, this type of table is known as anindex-organized table.</p><h2 id="relationship-between-primary-key--clustered-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#relationship-between-primary-key--clustered-index" color="auto.gray.8" aria-label="Relationship between Primary Key &amp; Clustered Index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Relationship between Primary Key &amp; Clustered Index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">You can&#x27;t create a clustered index manually using InnoDB in MySQL. MySQL chooses it for you. But how does it choose? The following excerpts are from MySQL documentation:
When you define aPRIMARY KEYon your table,InnoDBuses it as the clustered index. Define a primary key for each table that you create. If there is no logical unique and non-null column or set of columns, add a new <a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/5.7/en/glossary.html#glos_auto_increment" class="Link-sc-1brdqhf-0 cKRjba">auto-increment</a> column, whose values are filled in automatically.
If you do not define aPRIMARY KEYfor your table, MySQL locates the firstUNIQUEindex where all the key columns areNOT NULLandInnoDBuses it as the clustered index.
If the table has noPRIMARY KEYor suitableUNIQUEindex,InnoDBinternally generates a hidden clustered index namedGEN_CLUST_INDEXon a synthetic column containing row ID values. The rows are ordered by the ID thatInnoDBassigns to the rows in such a table. The row ID is a 6-byte field that increases monotonically as new rows are inserted. Thus, the rows ordered by the row ID are physically in insertion order.
In short, the MySQL InnoDB engine actually manages the primary index as clustered index for improving performance, so the primary key &amp; the actual record on disk are clustered together.</p><h2 id="secondary-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#secondary-index" color="auto.gray.8" aria-label="secondary index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>secondary index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">A type ofInnoDBindexthat represents a subset of table columns. AnInnoDBtable can have zero, one, or many secondary indexes. (Contrast with theclustered index, which is required for eachInnoDBtable, and stores the data for all the table columns.)
A secondary index can be used to satisfy queries that only require values from the indexed columns. For more complex queries, it can be used to identify the relevant rows in the table, which are then retrieved through lookups using the clustered index.
Creating and dropping secondary indexes has traditionally involved significant overhead from copying all the data in theInnoDBtable. Thefast index creationfeature makes bothCREATE INDEXandDROP INDEXstatements much faster forInnoDBsecondary indexes.</p><h2 id="search-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#search-index" color="auto.gray.8" aria-label="search index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>search index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">In MySQL,full-text searchqueries use a special kind of index, theFULLTEXT index. In MySQL 5.6.4 and up, InnoDBandMyISAMtables both supportFULLTEXTindexes; formerly, these indexes were only available forMyISAMtables.
By default MySQL will ignore any word that is in 50% or more of the rows in the table as it considers it would be a &#x27;noise&#x27; word.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">With very few rows in a table, it is common to hit this 50% limit often (ie. if you have two rows, every word is in at least 50% of the rows!).
There are two modes for MySQL Fulltext searching: natural language mode and Boolean mode. A restriction of natural language mode is &quot; ... words that are present in 50% or more of the rows are considered common and do not match. Full-text searches are natural language searches if no modifier is given.&quot; And natural language is the default mode.
<a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/1125678/mysql-fulltext-not-working" class="Link-sc-1brdqhf-0 cKRjba">https://stackoverflow.com/questions/1125678/mysql-fulltext-not-working</a>
<a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html" class="Link-sc-1brdqhf-0 cKRjba">https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html</a></p><h2 id="primary-key-indexes---mysql" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#primary-key-indexes---mysql" color="auto.gray.8" aria-label="Primary Key Indexes - MySQL permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Primary Key Indexes - MySQL</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>Because the clustered index &quot;is&quot; the table in InnoDB, it&#x27;s important that you choose a suitable primary key, as this key will be used often, and restructuring can be very expensive.</li><li>Non-sequential primary keys could lead to fragmentation issues. Causing page splits and disk fragmentations that lead to overheads in I/O operations.</li><li>You should strive to insert data in primary key order when using InnoDB, and you should try to use a clustering key that will give a monotonically increasing values for each new row. This will ensure that rows are inserted in sequential order and will offer better performance for joins using primary keys.</li></ul><h2 id="disadvantages-of-primary-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#disadvantages-of-primary-index" color="auto.gray.8" aria-label="Disadvantages of Primary Index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Disadvantages of Primary Index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Since the primary index contains a direct reference to the data block address through the virtual address space &amp; disk blocks are physically organized in the order of the index key, every time the OS does some disk page split due toDMLoperations likeINSERT/UPDATE/DELETE, the primary index also needs to be updated. SoDMLoperations puts some pressure on the performance of the primary index.</p><h2 id="secondary-indexes" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#secondary-indexes" color="auto.gray.8" aria-label="Secondary Indexes permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Secondary Indexes</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Obviously there can only be one clustered index - because you can&#x27;t store the row data in two places at once; Therefore secondary indexes (any indexes we apply that aren&#x27;t the primary) are not clustered, and are in fact separate structures to the table itself.
The leaf nodes for secondary indexes don&#x27;t store row data as the Primary Key B-Tree did, instead they simply store Primary Key values which serve as &quot;pointers&quot; to the row data, as you can see below:</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:251px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/6f58af02c4bb914d4371092a0481bed6/26abe/Indexing_MySQL-Indexing-image2.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:98.57142857142857%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjElEQVQ4y5WSa3OaQBSG8/9/RxMbE694F1Aj90syJSStAlZFxQFZQAQURTpKxpq0adL3w87O7j7nPXvOuYhfy3Xd1WrlOI7nea7rep4Xv6+L026/38dxLAhCpVKBIKjdbiPwQZ+Cz6MAADRNW6/Xp6Afw8m7MAwXC2M4HD49f4/jOIqiz6adaPBzUKvXh6PhfzivVivDMEzT1DRNURTTNBeLhW3bH8Pb7XY8Gvu+H+33URTtj2sYhqPRyA/8d+EksYOPYYhPz8FZnXTdsG1bEB83m/BfsOM4giDAaMsPgtMhAOBRFGEU3YThu2nvdjvHse8fHmRFXq+D00eWyyXH8ZIsh3+FEwfbtnVdD8ONu1xqmpbc6boOAAjDEABgGMaflT84+76v6/pkOnEcx7Ks+Xw+nU1d19V1XZ2oK88DAEyn09ls9oa/SH5rLhY0w/zo9U3TVFX1DsPAUXcYNlJVywKSJGEE8RbebsNHUWwiaDZfwEmSZtlsoViHYY7nmzCcL0AERVE0nc0XmgiqzbVz/uDclySSZtO3tzhNUwxbqdYbMIwTFM1y6ZtbkmJohiuVywjaqjcRE4ATf4CDIOB4HiqXMZzESQrttEvVGsPddzCsXK1iBIETJNpu1xp1gqLPk3+ptjoZc/xD6jrd6WIUzcJoK5PNkTTD8Pxl6qqLEzTLVhuNIlRC252xqib8S5+j3U4QxQaCFKESw/Isf3+TyeAkyXAc0moVIYjheIbnbzIZjCQ73W60j15NGLAsuNX6cnlVqdUyuVwqnc4VC/liIZvPX35NlWu1bC6Xur4ulKDLVOqbIPyesIS3LEuWFUmS+v2+oiiyovQlqS9Jg8HgeCgpg4GsKL1eb3Ls+S9dn0LRp5r7dQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="Image for post" title="Image for post" src="/wiki/static/6f58af02c4bb914d4371092a0481bed6/26abe/Indexing_MySQL-Indexing-image2.png" srcSet="/wiki/static/6f58af02c4bb914d4371092a0481bed6/0d3e1/Indexing_MySQL-Indexing-image2.png 140w,/wiki/static/6f58af02c4bb914d4371092a0481bed6/26abe/Indexing_MySQL-Indexing-image2.png 251w" sizes="(max-width: 251px) 100vw, 251px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">Image for post</figcaption>
  </figure><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">This typically means when utilizing a secondary index, InnoDB will first use the B-Tree of the secondary index to retrieve the Primary Key values of the applicable rows, and then after use these values in conjunction with the Primary Key B-tree to fetch the row data!</p><h2 id="disadvantages-of-a-secondary-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#disadvantages-of-a-secondary-index" color="auto.gray.8" aria-label="Disadvantages of a Secondary Index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Disadvantages of a Secondary Index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">WithDMLoperations likeDELETE/INSERT, the secondary index also needs to be updated so that the copy of the primary key column can be deleted / inserted. In such cases, the existence of lots of secondary indexes can create issues.
Also, if a primary key is very large like aURL, since secondary indexes contain a copy of the primary key column value, it can be inefficient in terms of storage. More secondary keys means a greater number of duplicate copies of the primary key column value, so more storage in case of a large primary key. Also the primary key itself stores the keys, so the combined effect on storage will be very high. Because the Primary Key is appended to every secondary index in innoDB, don&#x27;t pick huge PK&#x27;s. Ideally keep them short so that it doesn&#x27;t take up too much memory, and remember all data will be clustered onto this primary key; Therefore a bulky Primary Key will lead to bulky secondary indexes.
Slow, It should be quite obvious that this additional lookup to follow the Primary Key &#x27;pointer&#x27; from the secondary index has some overhead, it&#x27;s still quick because the primary key is indexed, but this is where the &#x27;covering index&#x27; optimization comes into play</p><h2 id="unique-key-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#unique-key-index" color="auto.gray.8" aria-label="UNIQUE Key Index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>UNIQUE Key Index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Like primary keys, unique keys can also identify records uniquely with one difference - the unique key column can containnullvalues.
Unlike other database servers, in MySQL a unique key column can have as manynullvalues as possible. In SQL standard,nullmeans an undefined value. So if MySQL has to contain only one null value in a unique key column, it has to assume that all null values are the same.
But logically this is not correct sincenullmeans undefined - and undefined values can&#x27;t be compared with each other, it&#x27;s the nature ofnull. As MySQL can&#x27;t assert if allnulls mean the same, it allows multiplenullvalues in the column.
The following command shows how to create a unique key index in MySQL:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><code class="inline-code__InlineCode-sc-5lgfx8-0 jyryuZ">CREATE UNIQUE INDEX unique_idx_1 ON index_demo (pan_no);</code></p><h2 id="composite-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#composite-index" color="auto.gray.8" aria-label="Composite Index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Composite Index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">MySQL lets you define indices on multiple columns, up to 16 columns. This index is called a Multi-column / Composite / Compound index.
Let&#x27;s say we have an index defined on 4 columns -col1,col2,col3,col4. With a composite index, we have search capability oncol1,(col1, col2),(col1, col2, col3),(col1, col2, col3, col4). So we can use any left side prefix of the indexed columns, but we can&#x27;t omit a column from the middle &amp; use that like ---(col1, col3)or(col1, col2, col4)orcol3orcol4etc. These are invalid combinations.
The following commands create 2 composite indexes in our table:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><code class="inline-code__InlineCode-sc-5lgfx8-0 jyryuZ">CREATE INDEX composite_index_1 ON index_demo (phone_no, name, age);</code></p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><code class="inline-code__InlineCode-sc-5lgfx8-0 jyryuZ">CREATE INDEX composite_index_2 ON index_demo (pan_no, name, age);</code></p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">If you have queries containing aWHEREclause on multiple columns, write the clause in the order of the columns of the composite index. The index will benefit that query. In fact, while deciding the columns for a composite index, you can analyze different use cases of your system &amp; try to come up with the order of columns that will benefit most of your use cases.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Composite indices can help you in JOIN &amp; SELECT queries as well. Example: in the following SELECT * query, composite_index_2 is used.
When several indexes are defined, the MySQL query optimizer chooses that index which eliminates the greatest number of rows or scans as few rows as possible for better efficiency.</p><h2 id="why-do-we-use-composite-indices-why-not-define-multiple-secondary-indices-on-the-columns-we-are-interested-in" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#why-do-we-use-composite-indices-why-not-define-multiple-secondary-indices-on-the-columns-we-are-interested-in" color="auto.gray.8" aria-label="Why do we use composite indices? Why not define multiple secondary indices on the columns we are interested in? permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why do we use composite indices? Why not define multiple secondary indices on the columns we are interested in?</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">MySQL uses only one index per table per query except for UNION.(In a UNION, each logical query is run separately, and the results are merged.) So defining multiple indices on multiple columns does not guarantee those indices will be used even if they are part of the query.
MySQL maintains something called index statistics which helps MySQL infer what the data looks like in the system. Index statistics is a generilization though, but based on this meta data, MySQL decides which index is appropriate for the current query.</p><h2 id="how-does-composite-index-work" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#how-does-composite-index-work" color="auto.gray.8" aria-label="How does composite index work? permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How does composite index work?</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">The columns used in composite indices are concatenated together, and those concatenated keys are stored in sorted order using a B+ Tree. When you perform a search, concatenation of your search keys is matched against those of the composite index. Then if there is any mismatch between the ordering of your search keys &amp; ordering of the composite index columns, the index can&#x27;t be used.
In our example, for the following record, a composite index key is formed by concatenating pan_no, name, age - HJKXS9086Wkousik28.</p><table class="table__Table-sc-ixm5yk-0 eooEiq"><thead><tr><th>name</th><th>kousik</th></tr></thead><tbody><tr><td>age</td><td>28</td></tr><tr><td>pan_no</td><td>HJKXS9086W</td></tr><tr><td>phone_no</td><td>9090909090</td></tr></tbody></table><h2 id="how-to-identify-if-you-need-a-composite-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#how-to-identify-if-you-need-a-composite-index" color="auto.gray.8" aria-label="How to identify if you need a composite index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to identify if you need a composite index</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>Analyze your queries first according to your use cases. If you see certain fields are appearing together in many queries, you may consider creating a composite index.</li><li>If you are creating an index incol1&amp; a composite index in (col1,col2), then only the composite index should be fine.col1alone can be served by the composite index itself since it&#x27;s a left side prefix of the index.</li><li>Consider cardinality. If columns used in the composite index end up having high cardinality together, they are good candidate for the composite index.</li></ul><h2 id="covering-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#covering-index" color="auto.gray.8" aria-label="Covering Index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Covering Index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">A covering index is a special kind of composite index where all the columns specified in the query somewhere exist in the index. So the query optimizer does not need to hit the database to get the data - rather it gets the result from the index itself. Example: we have already defined a composite index on(pan_no, name, age), so now consider the following query:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SELECT age FROM index_demo WHERE pan_no = &#x27;HJKXS9086W&#x27; AND name = &#x27;kousik&#x27;
The columns mentioned in theSELECT&amp;WHEREclauses are part of the composite index. So in this case, we can actually get the value of theagecolumn from the composite index itself. Let&#x27;s see what theEXPLAINcommand shows for this query:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">EXPLAIN FORMAT=JSON SELECT age FROM index_demo WHERE pan_no = &#x27;HJKXS9086W&#x27; AND name = &#x27;111kousik1&#x27;;
In the response, note that there is a key -using_indexwhich is set totruewhich signifies that the covering index has been used to answer the query.
If your secondary index holds all the data needed to satisfy your query (it &#x27;covers&#x27; it) then you don&#x27;t need to follow the Primary Key values to fetch any additional data!</p><h2 id="partial-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#partial-index" color="auto.gray.8" aria-label="Partial Index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Partial Index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">We already know that Indices speed up our queries at the cost of space. The more indices you have, the more the storage requirement. We have already created an index calledsecondary_idx_1on the columnname. The columnnamecan contain large values of any length. Also in the index, the row locators&#x27; or row pointers&#x27; metadata have their own size. So overall, an index can have a high storage &amp; memory load.
In MySQL, it&#x27;s possible to create an index on the first few bytes of data as well. Example: the following command creates an index on the first 4 bytes of name. Though this method reduces memory overhead by a certain amount, the index can&#x27;t eliminate many rows, since in this example the first 4 bytes may be common across many names. Usually this kind of prefix indexing is supported onCHAR,VARCHAR,BINARY,VARBINARYtype of columns.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">CREATE INDEX secondary_index_1 ON index_demo (name(4));</p><h2 id="what-happens-under-the-hood-when-we-define-an-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#what-happens-under-the-hood-when-we-define-an-index" color="auto.gray.8" aria-label="What happens under the hood when we define an index? permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What happens under the hood when we define an index?</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Let&#x27;s run theSHOW EXTENDEDcommand again:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SHOW EXTENDED INDEXES FROM index_demo;
We definedsecondary_index_1onname, but MySQL has created a composite index on (name,phone_no) wherephone_nois the primary key column. We createdsecondary_index_2onage&amp; MySQL created a composite index on (age,phone_no). We createdcomposite_index_2on (pan_no,name,age) &amp; MySQL has created a composite index on (pan_no,name,age,phone_no). The composite indexcomposite_index_1already hasphone_noas part of it.
So whatever index we create, MySQL in the background creates a backing composite index which in-turn points to the primary key. This means that the primary key is a first class citizen in the MySQL indexing world. It also proves that all the indexes are backed by a copy of the primary index -but I am not sure whether a single copy of the primary index is shared or different copies are used for different indexes.
There are many other indices as well like Spatial index and Full Text Search index offered by MySQL. I have not yet experimented with those indices, so I&#x27;m not discussing them in this post.</p><h2 id="how-indexes-affect-order-and-group-by" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#how-indexes-affect-order-and-group-by" color="auto.gray.8" aria-label="How Indexes Affect ORDER and GROUP BY permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How Indexes Affect <code class="inline-code__InlineCode-sc-5lgfx8-0 jyryuZ">ORDER and GROUP BY</code></h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Another often overlooked factor is how indexes can be used during ordering and grouping!
Say you&#x27;ve only got an index on(last_name)in your phone book, and you run the query:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SELECT * FROM phone_book WHERE last_name = &#x27;Simpson&#x27;ORDER BY first_name
This will use the last_name index as you&#x27;d hope to quickly narrow down the records with that last name, sadly you now need to perform a sort on these resulting records in order to get them sorted by first name. This is because the index didn&#x27;t sort the results by first_name in any meaningful way.
This is known as a<strong>File Sort:</strong>a sort that occurs after the query; it requires fetching the data into a temporary buffer and sorting it before finally returning. This wouldn&#x27;t have been needed if the data was already sorted by the index in the way you wanted!
This also applies even If you only wanted to read 5 rows. Say you ran the following:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SELECT last_name FROM phonebook WHERE first_name=&#x27;Homer&#x27; ORDER BY last_nameLIMIT 5;
You&#x27;ll still be fetching thousands of records, sorting them, and only after this, returning the top 5 while discarding the rest of the records you spent time processing.
This also applies to GROUP BY statements. if we ran the following query with this composite index onlast_name and first_name:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SELECT * FROM phonebook WHERE last_name = &#x27;Burns&#x27; GROUP BY first_name
The records would already be sorted bylast_name, allowing us to quickly filter down the records with thelast_name&#x27;Burns&#x27;. After these results are returned they are also then sorted byfirst_namedue to the second part of the index, and so they are intrinsically already grouped for us! We wouldn&#x27;t need to perform any additional sorting at the end which would add further overheads to our query.</p><h2 id="index-ab" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#index-ab" color="auto.gray.8" aria-label="INDEX (a,b) permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>INDEX (a,b)</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>ORDER BY a ASC, b ASC*** Good</li><li>ORDER BY a DESC, B DESC*** Good</li><li>ORDER BY a ASC, b DESC*** Cannot use index</li></ul><h2 id="range-queries" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#range-queries" color="auto.gray.8" aria-label="Range Queries permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Range Queries</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Similar to what we&#x27;ve just said with the prefix rule, the second you use a range query on a column in your index you reach as far as you can utilize this index. This should make sense, if you issued a range query such as:</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SELECT *FROM phonebook WHERE last_name LIKE &#x27;f%&#x27; AND first_name =&#x27;Ned&#x27;;ADD INDEX (last_name, first_name, phone_number)
This would utilize the first part (last_name) of our index, allowing us to quickly satisfy the range conditional and find all rows with thelast_namebeginning with &#x27;f&#x27;; however after this, there isn&#x27;t any way our B-Tree can be further utilized to quickly filter onfirst_name.</p><h2 id="if-youre-utilizing-an-index-for-range-queries-try-make-sure-the-column-youre-performing-the-range-over-is-ordered-last-within-the-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#if-youre-utilizing-an-index-for-range-queries-try-make-sure-the-column-youre-performing-the-range-over-is-ordered-last-within-the-index" color="auto.gray.8" aria-label="If you&#x27;re utilizing an index for range queries, try make sure the column you&#x27;re performing the range over is ordered last within the index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>If you&#x27;re utilizing an index for range queries, try make sure the column you&#x27;re performing the range over is ordered last within the index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Similarly, you can&#x27;t use an index fully to perform range queries on two columns for the points already mentioned.-  You may need to have indexes on the same columns in different orders depending on your queries.</p><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>Try use as many columns as possible up to the first range of the query - after a range no other index column can be used. So put the index that is likely to be ranged right at the end.</li></ul><h2 id="index-condition-pushdown" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#index-condition-pushdown" color="auto.gray.8" aria-label="Index Condition Pushdown permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Index Condition Pushdown</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Index push down essentially allows us to push index conditions down to the database engine so that it doesn&#x27;t have to return irrelevant rows that would only be filtered out later by MySQL.
This means in some cases we can still use an index past a range condition. It&#x27;s best to test and see the results for yourself, but regardless of the situation, you&#x27;ll be most effective if you&#x27;re able to leave range columns towards the end of your index. ICP will be most useful for when you have no choice.</p><h2 id="prefix-ranges" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#prefix-ranges" color="auto.gray.8" aria-label="Prefix ranges? permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Prefix ranges?</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SELECT ... WHERE last_name LIKE &quot;%mithers&quot;
This isn&#x27;t a range, we can&#x27;t use a B-Tree to traverse this obviously. Imagine yourself being at the root of a tree with such a query, do you go left or right? You don&#x27;t know! This is exactly why we can use an index to support such a query.</p><h2 id="examples-1" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#examples" color="auto.gray.8" aria-label="Examples permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples</h2><h2 id="index-a-b-vs-index-b-a" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#index-a-b-vs-index-b-a" color="auto.gray.8" aria-label="INDEX (a, b) VS INDEX (b, a) permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>INDEX (a, b) VS INDEX (b, a)</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>WHERE a = 1 AND b &gt; 3*** First is better</li><li>WHERE b = 5 AND b &gt; 7*** Second is better</li><li>WHERE a &gt; 1 AND b &gt; 3*** Each stops after 1st Column</li><li>WHERE b = 2*** Second only</li><li>WHERE b &gt; 2*** Second only</li><li>WHERE a = 4*** First only</li><li>WHERE a &gt; 4*** First only</li></ul><h2 id="index-a-b-c" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#index-a-b-c" color="auto.gray.8" aria-label="INDEX (a, b, c) permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>INDEX (a, b, c)</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>WHERE a &gt; 1 AND b =3 AND c = 4*** Uses only first part of index</li><li>WHERE a = 1 AND b &gt; 3 AND c = 4*** Uses first 2 parts of index</li><li>WHERE a = 1 AND b = 3 AND c = 4*** Uses all of index
In general all of the below could leave an index unusable:</li><li>!=</li><li>less than equal to operator</li><li>NOT LIKE, NOT IN...</li><li>NOT EXISTS ( SELECT * ... ) --- essentially a LEFT JOIN, often efficient</li><li>NOT (expression)</li></ul><h2 id="dont-use-functions-in-your-queries" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#dont-use-functions-in-your-queries" color="auto.gray.8" aria-label="Don&#x27;t use functions in your queries permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Don&#x27;t use functions in your queries</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">MySQL generally can&#x27;t use indexes on columns unless the columns are isolated in the query. So don&#x27;t use functions or expressions in your queries.
The second you dofunc(column) on leftyou can&#x27;t use the index and a full table scan will occur.
Examples:</p><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>WHERE id+3 = 4;*** BAD</li><li>Bad: WHERE start_date + INTERVAL 1 YEAR &gt; NOW()*** BAD</li><li>WHERE YEAR(start_date) = 2015 AND MONTH(start_date) = 1*** BAD</li><li>Where number +0 = 5;*** BAD</li><li>WHERE func(number) = n;*** BAD</li><li>WHERE number = 5+4;*** GOOD</li><li>WHERE number = func(n);*** GOOD</li><li>WHERE start_date &gt; NOW() --- INTERVAL 1 YEAR*** GOOD</li><li>WHERE start_date BETWEEN &quot;2015--01--01&quot; AND &quot;2015--01--31&quot;*** GOOD</li></ul><h2 id="redundant-indexes" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#redundant-indexes" color="auto.gray.8" aria-label="Redundant indexes permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Redundant indexes</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Over indexing can hurt performance due to overheads
The drawback of having too many indexes is the maintenance cost.
Adding new indexes might have a performance impact for INSERT, UPDATE, and DELETE operations, especially if a new index causes you to hit memory limits.
Every time you perform a write on a table, the indexes will need to be maintained. Furthermore when you run a query, each index must be considered by the MySQL Optimizer.</p><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>If there is an index on (A, B), adding another index (A) would be redundant because it is a prefix of the first index. That is, the index on (A, B) can already be used as an index for column A alone.</li><li>If there is an index on (A, PK_ID). The PK_ID column as you already know is already included if you&#x27;re using InnoDB, so it&#x27;s redundant, luckily it won&#x27;t add it twice so you are safe to do it, you just don&#x27;t need too.
The only time we want redundant indexes is when extending an existing index makes it much larger and thus reduces performance!
You can easily see which indexes are redundant, especially those that have never been used, by querying the INFORMATION_SCHEMA database.
That being said don&#x27;t be afraid to add indexes that will actually be used! In a read heavy application the costs will be negligible. It&#x27;s best to test whether an index is beneficial out for yourself!</li></ul><h2 id="index-merge" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#index-merge" color="auto.gray.8" aria-label="Index Merge permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Index Merge</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">When i said MySQL only uses one index, per query, per table, most of the times this is true! However, sometimes MySQL does in fact have the capabilities to use multiple single column indexes.
For example: it could use several indexes to fetch primary key values, and then perform a union or intersection depending on the query. These are useful in situations where you cannot form a suitable multicolumn index e.g. in the case of several &#x27;OR&#x27; conditionals in your query.
However it is rare that these are actually used, and if you are able to form a suitable multicolumn index then you should, because this will typically outperform a merge index</p><h2 id="index-not-used" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#index-not-used" color="auto.gray.8" aria-label="Index not used permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Index not used</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>Sometimes MySQL does not use an index, even if one is available. One circumstance under which this occurs is when the optimizer estimates that using the index would require MySQL to access a very large percentage of the rows in the table. (In this case, a table scan is likely to be much faster because it requires fewer seeks.) However, if such a query uses LIMIT to retrieve only some of the rows, MySQL uses an index anyway, because it can much more quickly find the few rows to return in the result.</li><li><strong>MySQL will not use indexes if you query the wrong data type (if field is VARCHAR but you are passing integer), but works other way around i.e. index is used in an integer column if you pass string in where column, but you must always use the correct data type while querying</strong></li><li>The OR operator in filtering conditions</li></ul><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Consider this query:</p><table class="table__Table-sc-ixm5yk-0 eooEiq"><colgroup><col style="width:30%"/><col style="width:69%"/></colgroup><thead><tr class="header"><th><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">1</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">2</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">3</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">4</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">5</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">6</p></th><th><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SELECT</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">a, b</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">FROM</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">tbl</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">WHERE</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">a = 3 OR b = 8;</p></th></tr></thead><tbody></tbody></table><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">In many cases, MySQL won&#x27;t be able to use an index to apply an OR condition, and as a result, this query is not index-able.
Therefore, we recommend to avoid such OR conditions and consider splitting the query to two parts, combined with a UNION DISTINCT (or even better, UNION ALL, in case you know there won&#x27;t be any duplicate results)</p><h2 id="general-indexing-guidelines" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#general-indexing-guidelines" color="auto.gray.8" aria-label="General Indexing guidelines permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>General Indexing guidelines</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>Since indices consume extra memory, carefully decide how many &amp; what type of index will suffice your need.</li><li>WithDMLoperations, indices are updated, so write operations are quite costly with indexes. The more indices you have, the greater the cost. Indexes are used to make read operations faster. So if you have a system that is write heavy but not read heavy, think hard about whether you need an index or not.</li><li>Cardinality is important - cardinality means the number of distinct values in a column. If you create an index in a column that has low cardinality, that&#x27;s not going to be beneficial since the index should reduce search space. Low cardinality does not significantly reduce search space.
Example: if you create an index on a boolean (int1or0only ) type column, the index will be very skewed since cardinality is less (cardinality is 2 here). But if this boolean field can be combined with other columns to produce high cardinality, go for that index when necessary.</li><li>Indices might need some maintenance as well if old data still remains in the index. They need to be deleted otherwise memory will be hogged, so try to have a monitoring plan for your indices.</li></ul><h1 id="show-cardinality-of-a-table" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH1-sc-1fu06k9-1 ffNRvO gCPbFb fGjcEF Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#show-cardinality-of-a-table" color="auto.gray.8" aria-label="show cardinality of a table permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>show cardinality of a table</h1><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">SHOW INDEXES FROM table_name;
<a target="_blank" rel="noopener noreferrer" href="https://medium.com/@stormanning/mysql-indexing-101-660f3193dde1" class="Link-sc-1brdqhf-0 cKRjba"><strong>https://medium.com/@stormanning/mysql-indexing-101-660f3193dde1</strong></a></p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html" class="Link-sc-1brdqhf-0 cKRjba">https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html</a></p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html" class="Link-sc-1brdqhf-0 cKRjba">https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html</a></p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><a target="_blank" rel="noopener noreferrer" href="https://www.freecodecamp.org/news/database-indexing-at-a-glance-bb50809d48bd" class="Link-sc-1brdqhf-0 cKRjba">https://www.freecodecamp.org/news/database-indexing-at-a-glance-bb50809d48bd</a></p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html" class="Link-sc-1brdqhf-0 cKRjba"><strong>https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html</strong></a></p><h2 id="unused-indexes" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#unused-indexes" color="auto.gray.8" aria-label="Unused indexes permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Unused indexes</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">select count(*) from sys.schema_unused_indexes;</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><a target="_blank" rel="noopener noreferrer" href="https://www.eversql.com/how-to-find-unused-indexes-in-a-mysql-database" class="Link-sc-1brdqhf-0 cKRjba">https://www.eversql.com/how-to-find-unused-indexes-in-a-mysql-database</a></p><h2 id="rebuilding-or-repairing-tables-or-indexes" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#rebuilding-or-repairing-tables-or-indexes" color="auto.gray.8" aria-label="Rebuilding or Repairing Tables or Indexes permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Rebuilding or Repairing Tables or Indexes</h2><h2 id="methods-for-rebuilding-a-table-include" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#methods-for-rebuilding-a-table-include" color="auto.gray.8" aria-label="Methods for rebuilding a table include permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Methods for rebuilding a table include</h2><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html#rebuilding-tables-dump-reload" class="Link-sc-1brdqhf-0 cKRjba">Dump and Reload Method</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html#rebuilding-tables-alter-table" class="Link-sc-1brdqhf-0 cKRjba">ALTER TABLE Method</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html#rebuilding-tables-repair-table" class="Link-sc-1brdqhf-0 cKRjba">REPAIR TABLE Method</a><a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html" class="Link-sc-1brdqhf-0 cKRjba">https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html</a></li></ul><h2 id="mysql-80---invisible-index" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#mysql-80---invisible-index" color="auto.gray.8" aria-label="MySQL 8.0 - Invisible Index permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>MySQL 8.0 - Invisible Index</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Invisible indexes make it possible to test the effect of removing an index on query performance, without making a destructive change that must be undone should the index turn out to be required. Dropping and re-adding an index can be expensive for a large table, whereas making it invisible and visible are fast, in-place operations.
<a target="_blank" rel="noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/invisible-indexes.html" class="Link-sc-1brdqhf-0 cKRjba">https://dev.mysql.com/doc/refman/8.0/en/invisible-indexes.html</a></p><div class="Box-nv15kw-0 ksEcN"><div display="flex" class="Box-nv15kw-0 jsSpbO"><a href="https://github.com/deepaksood619/wiki/tree/main/Databases/Concepts/Indexing/MySQL-Indexing.md" class="Link-sc-1brdqhf-0 iLYDsn"><svg aria-hidden="true" role="img" class="StyledOcticon-uhnt7w-0 fafffn" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path></svg>Edit this page</a><div><span font-size="1" color="auto.gray.7" class="Text-sc-1s3uzov-0 gHwtLv">Last updated on<!-- --> <b>1/7/2023</b></span></div></div></div></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id="></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/Databases/Concepts/Indexing/MySQL-Indexing/";window.___webpackCompilationHash="a90f4a594c9e502012ae";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2526e2a471eef3b9c3b2.js"],"app":["/app-3f4d8f561104a074e339.js"],"component---node-modules-gatsby-theme-primer-wiki-src-pages-404-js":["/component---node-modules-gatsby-theme-primer-wiki-src-pages-404-js-bd1c4b7f67a97d4f99af.js"],"component---node-modules-gatsby-theme-primer-wiki-src-templates-latest-query-js":["/component---node-modules-gatsby-theme-primer-wiki-src-templates-latest-query-js-6ed623c5d829c1a69525.js"],"component---node-modules-gatsby-theme-primer-wiki-src-templates-post-query-js":["/component---node-modules-gatsby-theme-primer-wiki-src-templates-post-query-js-46274f1a3983fff8a36b.js"]};/*]]>*/</script><script src="/wiki/polyfill-2526e2a471eef3b9c3b2.js" nomodule=""></script><script src="/wiki/component---node-modules-gatsby-theme-primer-wiki-src-templates-post-query-js-46274f1a3983fff8a36b.js" async=""></script><script src="/wiki/commons-c89ede6cb9a530ac5a37.js" async=""></script><script src="/wiki/app-3f4d8f561104a074e339.js" async=""></script><script src="/wiki/dc6a8720040df98778fe970bf6c000a41750d3ae-8fdfd959b24cacbf7cee.js" async=""></script><script src="/wiki/0e226fb0-1cb0709e5ed968a9c435.js" async=""></script><script src="/wiki/f0e45107-3309acb69b4ccd30ce0c.js" async=""></script><script src="/wiki/framework-6c63f85700e5678d2c2a.js" async=""></script><script src="/wiki/webpack-runtime-07e8faa2a261685889a0.js" async=""></script></body></html>