<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:image:alt" content="Accumulating thoughts, knowledge, tips and anything that is worth keeping a not of. These notes are build using the obsidian tool and deployed here as well for easy access."/><meta data-react-helmet="true" name="twitter:image" content="https://deepaksood619.github.io/wiki/graph-visualisation.jpg"/><meta data-react-helmet="true" name="twitter:description" content="Kafka Topics More partitions in a Kafka cluster leads to higher throughput. However, one does have to be aware of t…"/><meta data-react-helmet="true" name="twitter:title" content="Kafka Topic/Replication"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="article:section" content="None"/><meta data-react-helmet="true" property="article:author" content="http://examples.opengraphprotocol.us/profile.html"/><meta data-react-helmet="true" property="article:modified_time" content="2023-01-07T04:13:18.000Z"/><meta data-react-helmet="true" property="article:published_time" content="2022-12-14T12:11:29.000Z"/><meta data-react-helmet="true" property="og:description" content="Kafka Topics More partitions in a Kafka cluster leads to higher throughput. However, one does have to be aware of t…"/><meta data-react-helmet="true" property="og:site_name"/><meta data-react-helmet="true" property="og:image:alt" content="Accumulating thoughts, knowledge, tips and anything that is worth keeping a not of. These notes are build using the obsidian tool and deployed here as well for easy access."/><meta data-react-helmet="true" property="og:image" content="https://deepaksood619.github.io/wiki/graph-visualisation.jpg"/><meta data-react-helmet="true" property="og:url" content="https://deepaksood619.github.io/wiki/wiki/Technologies/Technologies/Kafka/Kafka-Topic-Replication/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Kafka Topic/Replication"/><meta data-react-helmet="true" name="image" content="https://deepaksood619.github.io/wiki/graph-visualisation.jpg"/><meta data-react-helmet="true" name="description" content="Kafka Topics More partitions in a Kafka cluster leads to higher throughput. However, one does have to be aware of t…"/><meta name="generator" content="Gatsby 4.6.0"/><style data-href="/wiki/styles.d9e480e5c6375621c4fd.css" data-identity="gatsby-global-css">.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{background-color:#333;border-radius:4px;color:#fff;font-size:14px;line-height:1.4;outline:0;position:relative;transition-property:visibility,opacity,-webkit-transform;transition-property:transform,visibility,opacity;transition-property:transform,visibility,opacity,-webkit-transform;white-space:normal}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{border-top-color:initial;border-width:8px 8px 0;bottom:-7px;left:0;-webkit-transform-origin:center top;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:initial;border-width:0 8px 8px;left:0;top:-7px;-webkit-transform-origin:center bottom;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-left-color:initial;border-width:8px 0 8px 8px;right:-7px;-webkit-transform-origin:center left;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{border-right-color:initial;border-width:8px 8px 8px 0;left:-7px;-webkit-transform-origin:center right;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{color:#333;height:16px;width:16px}.tippy-arrow:before{border-color:transparent;border-style:solid;content:"";position:absolute}.tippy-content{padding:5px 9px;position:relative;z-index:1}.tippy-box[data-theme~=light]{background-color:#fff;box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);color:#26323d}.tippy-box[data-theme~=light][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff}.tippy-box[data-theme~=light][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff}.tippy-box[data-theme~=light]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light]>.tippy-svg-arrow{fill:#fff}html{font-family:SF Pro SC,SF Pro Text,SF Pro Icons,PingFang SC,Helvetica Neue,Helvetica,Arial,sans-serif}body{word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;-ms-word-break:break-all;word-break:break-word}blockquote,body,dd,dt,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,html,iframe,legend,p,pre,textarea{margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}button,input,select{margin:0}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}img,video{height:auto;max-width:100%}iframe{border:0}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style><style data-styled="" data-styled-version="5.3.5">.fnAJEh{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;font-size:14px;background-color:#005cc5;color:#ffffff;padding:16px;}/*!sc*/
.fnAJEh:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.fnAJEh:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.czsBQU{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;color:#ffffff;margin-right:16px;}/*!sc*/
.czsBQU:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.czsBQU:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.kLOWMo{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;color:#ffffff;}/*!sc*/
.kLOWMo:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.kLOWMo:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.kEUvCO{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;display:block;color:inherit;margin-left:24px;}/*!sc*/
.kEUvCO:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.kEUvCO:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.fdzjHV{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;color:#24292e;display:block;}/*!sc*/
.fdzjHV:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.fdzjHV:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.bQLMRL{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;font-size:16px;display:inline-block;padding-top:4px;padding-bottom:4px;color:#586069;font-weight:medium;}/*!sc*/
.bQLMRL:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.bQLMRL:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){.bQLMRL{font-size:14px;}}/*!sc*/
.ekSqTm{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;padding:8px;margin-left:-32px;color:#2f363d;}/*!sc*/
.ekSqTm:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.ekSqTm:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.cKRjba{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.cKRjba:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.cKRjba:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
.iLYDsn{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;margin-bottom:4px;}/*!sc*/
.iLYDsn:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.iLYDsn:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
data-styled.g1[id="Link-sc-1brdqhf-0"]{content:"fnAJEh,czsBQU,kLOWMo,kEUvCO,fdzjHV,bQLMRL,ekSqTm,cKRjba,iLYDsn,"}/*!sc*/
.EuMgV{z-index:20;width:auto;height:auto;-webkit-clip:auto;clip:auto;position:absolute;overflow:hidden;}/*!sc*/
.EuMgV:not(:focus){-webkit-clip:rect(1px,1px,1px,1px);clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;width:1px;margin:-1px;padding:0;}/*!sc*/
data-styled.g2[id="skip-link__SkipLink-sc-1z0kjxc-0"]{content:"EuMgV,"}/*!sc*/
.fbaWCe{display:none;margin-left:8px;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.fbaWCe{display:inline;}}/*!sc*/
.bLwTGz{font-weight:600;display:inline-block;margin-bottom:4px;}/*!sc*/
.cQAYyE{font-weight:600;}/*!sc*/
.hHOTlN{text-align:center;font-size:14px;margin-top:8px;margin-bottom:16px;color:#6a737d;}/*!sc*/
.gHwtLv{font-size:14px;color:#444d56;margin-top:4px;}/*!sc*/
data-styled.g4[id="Text-sc-1s3uzov-0"]{content:"fbaWCe,bLwTGz,cQAYyE,hHOTlN,gHwtLv,"}/*!sc*/
.ifkhtm{background-color:#ffffff;color:#24292e;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.gSrgIV{top:0;z-index:1;position:-webkit-sticky;position:sticky;}/*!sc*/
.iTlzRc{padding-left:16px;padding-right:16px;background-color:#24292e;color:rgba(255,255,255,0.7);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:66px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.iTlzRc{padding-left:24px;padding-right:24px;}}/*!sc*/
.kCrfOd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.gELiHA{margin-left:24px;display:none;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.gELiHA{display:block;}}/*!sc*/
.gYHnkh{position:relative;}/*!sc*/
.dMFMzl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.jhCmHN{display:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.jhCmHN{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
.elXfHl{color:rgba(255,255,255,0.7);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.gjFLbZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.gjFLbZ{display:none;}}/*!sc*/
.gucKKf{color:rgba(255,255,255,0.7);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;background-color:none;cursor:pointer;}/*!sc*/
.gucKKf:hover{fill:rgba(255,255,255,0.7);color:rgba(255,255,255,0.7);}/*!sc*/
.gucKKf svg{fill:rgba(255,255,255,0.7);}/*!sc*/
.fBMuRw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}/*!sc*/
.bQaVuO{color:#2f363d;background-color:#fafbfc;display:none;height:calc(100vh - 66px);min-width:260px;max-width:360px;position:-webkit-sticky;position:sticky;top:66px;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){}/*!sc*/
@media screen and (min-width:1012px){.bQaVuO{display:block;}}/*!sc*/
.eeDmz{height:100%;border-style:solid;border-color:#e1e4e8;border-width:0;border-right-width:1px;border-radius:0;}/*!sc*/
.kSoTbZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.nElVQ{padding:24px;border-style:solid;border-color:#e1e4e8;border-width:0;border-radius:0;border-top-width:1px;}/*!sc*/
.iXtyim{margin-left:0;padding-top:4px;padding-bottom:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-style:solid;border-color:#e1e4e8;border-width:0;border-radius:0;border-bottom-width:0;}/*!sc*/
.vaHQm{margin-bottom:4px;margin-top:4px;font-size:14px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.hIjKHD{color:#586069;font-weight:400;display:block;}/*!sc*/
.icYakO{padding-left:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}/*!sc*/
.klfmeZ{max-width:1440px;-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
.TZbDV{padding:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;}/*!sc*/
@media screen and (min-width:544px){.TZbDV{padding:32px;}}/*!sc*/
@media screen and (min-width:768px){.TZbDV{padding:40px;}}/*!sc*/
@media screen and (min-width:1012px){.TZbDV{padding:48px;}}/*!sc*/
.DPDMP{display:none;max-height:calc(100vh - 66px - 24px);position:-webkit-sticky;position:sticky;top:90px;width:220px;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:40px;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){.DPDMP{display:block;}}/*!sc*/
.gUNLMu{margin:0;padding:0;}/*!sc*/
.bzTeHX{padding-left:0;}/*!sc*/
.bnaGYs{padding-left:16px;}/*!sc*/
.meQBK{width:100%;}/*!sc*/
.jYYExC{margin-bottom:32px;background-color:#f6f8fa;display:block;border-width:1px;border-style:solid;border-color:#e1e4e8;border-radius:6px;}/*!sc*/
@media screen and (min-width:544px){}/*!sc*/
@media screen and (min-width:768px){.jYYExC{display:none;}}/*!sc*/
.hgiZBa{padding:16px;}/*!sc*/
.hnQOQh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.gEqaxf{padding:16px;border-top:1px solid;border-color:border.gray;}/*!sc*/
.ksEcN{margin-top:64px;padding-top:32px;padding-bottom:32px;border-style:solid;border-color:#e1e4e8;border-width:0;border-top-width:1px;border-radius:0;}/*!sc*/
.jsSpbO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
data-styled.g5[id="Box-nv15kw-0"]{content:"ifkhtm,gSrgIV,iTlzRc,kCrfOd,gELiHA,gYHnkh,dMFMzl,jhCmHN,elXfHl,gjFLbZ,gucKKf,fBMuRw,bQaVuO,eeDmz,kSoTbZ,nElVQ,iXtyim,vaHQm,hIjKHD,icYakO,klfmeZ,TZbDV,DPDMP,gUNLMu,bzTeHX,bnaGYs,meQBK,jYYExC,hgiZBa,hnQOQh,gEqaxf,ksEcN,jsSpbO,"}/*!sc*/
.cjGjQg{position:relative;display:inline-block;padding:6px 16px;font-family:inherit;font-weight:600;line-height:20px;white-space:nowrap;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;font-size:14px;}/*!sc*/
.cjGjQg:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.cjGjQg:focus{outline:none;}/*!sc*/
.cjGjQg:disabled{cursor:default;}/*!sc*/
.cjGjQg:disabled svg{opacity:0.6;}/*!sc*/
data-styled.g6[id="ButtonBase-sc-181ps9o-0"]{content:"cjGjQg,"}/*!sc*/
.fafffn{margin-right:8px;}/*!sc*/
data-styled.g8[id="StyledOcticon-uhnt7w-0"]{content:"bhRGQB,fafffn,"}/*!sc*/
.fTkTnC{font-weight:600;font-size:32px;margin:0;font-size:12px;font-weight:500;color:#959da5;margin-bottom:4px;text-transform:uppercase;font-family:Content-font,Roboto,sans-serif;}/*!sc*/
.ffNRvO{font-weight:600;font-size:32px;margin:0;}/*!sc*/
data-styled.g12[id="Heading-sc-1cjoo9h-0"]{content:"fTkTnC,ffNRvO,"}/*!sc*/
.ifFLoZ{color:#0366d6;border:1px solid rgba(27,31,35,0.15);background-color:#fafbfc;box-shadow:0 1px 0 rgba(27,31,35,0.04);margin-left:16px;}/*!sc*/
.ifFLoZ:hover{color:#ffffff;background-color:#0366d6;border-color:rgba(27,31,35,0.15);box-shadow:0 1px 0 rgba(27,31,35,0.1);}/*!sc*/
.ifFLoZ:focus{border-color:rgba(27,31,35,0.15);box-shadow:0 0 0 3px rgba(0,92,197,0.4);}/*!sc*/
.ifFLoZ:active{color:#ffffff;background-color:hsla(212,97%,40%,1);box-shadow:inset 0 1px 0 rgba(5,38,76,0.2);border-color:rgba(27,31,35,0.15);}/*!sc*/
.ifFLoZ:disabled{color:rgba(3,102,214,0.5);background-color:#fafbfc;border-color:rgba(27,31,35,0.15);}/*!sc*/
.fKTxJr{color:#0366d6;border:1px solid rgba(27,31,35,0.15);background-color:#fafbfc;box-shadow:0 1px 0 rgba(27,31,35,0.04);}/*!sc*/
.fKTxJr:hover{color:#ffffff;background-color:#0366d6;border-color:rgba(27,31,35,0.15);box-shadow:0 1px 0 rgba(27,31,35,0.1);}/*!sc*/
.fKTxJr:focus{border-color:rgba(27,31,35,0.15);box-shadow:0 0 0 3px rgba(0,92,197,0.4);}/*!sc*/
.fKTxJr:active{color:#ffffff;background-color:hsla(212,97%,40%,1);box-shadow:inset 0 1px 0 rgba(5,38,76,0.2);border-color:rgba(27,31,35,0.15);}/*!sc*/
.fKTxJr:disabled{color:rgba(3,102,214,0.5);background-color:#fafbfc;border-color:rgba(27,31,35,0.15);}/*!sc*/
.cXFtEt{color:#0366d6;border:1px solid rgba(27,31,35,0.15);background-color:#fafbfc;box-shadow:0 1px 0 rgba(27,31,35,0.04);margin-left:16px;}/*!sc*/
.cXFtEt:hover{color:#ffffff;background-color:#0366d6;border-color:rgba(27,31,35,0.15);box-shadow:0 1px 0 rgba(27,31,35,0.1);}/*!sc*/
.cXFtEt:focus{border-color:rgba(27,31,35,0.15);box-shadow:0 0 0 3px rgba(0,92,197,0.4);}/*!sc*/
.cXFtEt:active{color:#ffffff;background-color:hsla(212,97%,40%,1);box-shadow:inset 0 1px 0 rgba(5,38,76,0.2);border-color:rgba(27,31,35,0.15);}/*!sc*/
.cXFtEt:disabled{color:rgba(3,102,214,0.5);background-color:#fafbfc;border-color:rgba(27,31,35,0.15);}/*!sc*/
data-styled.g13[id="ButtonOutline-sc-15gta9l-0"]{content:"ifFLoZ,fKTxJr,cXFtEt,"}/*!sc*/
.iEGqHu{color:rgba(255,255,255,0.7);background-color:transparent;border:1px solid #444d56;box-shadow:none;}/*!sc*/
data-styled.g14[id="dark-button__DarkButton-sc-bvvmfe-0"]{content:"iEGqHu,"}/*!sc*/
.ljCWQd{border:0;font-size:inherit;font-family:inherit;background-color:transparent;-webkit-appearance:none;color:inherit;width:100%;}/*!sc*/
.ljCWQd:focus{outline:0;}/*!sc*/
data-styled.g15[id="TextInput__Input-sc-1apmpmt-0"]{content:"ljCWQd,"}/*!sc*/
.dHfzvf{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;min-height:34px;font-size:14px;line-height:20px;color:#24292e;vertical-align:middle;background-repeat:no-repeat;background-position:right 8px center;border:1px solid #e1e4e8;border-radius:6px;outline:none;box-shadow:inset 0 1px 0 rgba(225,228,232,0.2);padding:6px 12px;width:240px;}/*!sc*/
.dHfzvf .TextInput-icon{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;color:#959da5;margin:0 8px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}/*!sc*/
.dHfzvf:focus-within{border-color:#0366d6;box-shadow:0 0 0 3px rgba(3,102,214,0.3);}/*!sc*/
@media (min-width:768px){.dHfzvf{font-size:14px;}}/*!sc*/
data-styled.g16[id="TextInput__Wrapper-sc-1apmpmt-1"]{content:"dHfzvf,"}/*!sc*/
.khRwtY{font-size:16px !important;color:rgba(255,255,255,0.7);background-color:rgba(255,255,255,0.07);border:1px solid transparent;box-shadow:none;}/*!sc*/
.khRwtY:focus{border:1px solid #444d56 outline:none;box-shadow:none;}/*!sc*/
data-styled.g17[id="dark-text-input__DarkTextInput-sc-1s2iwzn-0"]{content:"khRwtY,"}/*!sc*/
.bqVpte.active{font-weight:600;color:#2f363d;}/*!sc*/
data-styled.g19[id="nav-items__NavLink-sc-tqz5wl-0"]{content:"bqVpte,"}/*!sc*/
.kEKZhO.active{font-weight:600;color:#2f363d;}/*!sc*/
data-styled.g20[id="nav-items__NavBox-sc-tqz5wl-1"]{content:"kEKZhO,"}/*!sc*/
.gCPbFb{margin-top:24px;margin-bottom:16px;-webkit-scroll-margin-top:90px;-moz-scroll-margin-top:90px;-ms-scroll-margin-top:90px;scroll-margin-top:90px;}/*!sc*/
.gCPbFb .octicon-link{visibility:hidden;}/*!sc*/
.gCPbFb:hover .octicon-link,.gCPbFb:focus-within .octicon-link{visibility:visible;}/*!sc*/
data-styled.g22[id="heading__StyledHeading-sc-1fu06k9-0"]{content:"gCPbFb,"}/*!sc*/
.fGjcEF{margin-top:0;padding-bottom:4px;font-size:32px;border-bottom:1px solid #e1e4e8;}/*!sc*/
data-styled.g23[id="heading__StyledH1-sc-1fu06k9-1"]{content:"fGjcEF,"}/*!sc*/
.fvbkiW{padding-bottom:4px;font-size:24px;border-bottom:1px solid #e1e4e8;}/*!sc*/
data-styled.g24[id="heading__StyledH2-sc-1fu06k9-2"]{content:"fvbkiW,"}/*!sc*/
.elBfYx{max-width:100%;box-sizing:content-box;background-color:#ffffff;}/*!sc*/
data-styled.g30[id="image__Image-sc-1r30dtv-0"]{content:"elBfYx,"}/*!sc*/
.dFVIUa{padding-left:2em;margin-bottom:4px;}/*!sc*/
.dFVIUa ul,.dFVIUa ol{margin-top:0;margin-bottom:0;}/*!sc*/
.dFVIUa li{line-height:1.6;}/*!sc*/
.dFVIUa li > p{margin-top:16px;}/*!sc*/
.dFVIUa li + li{margin-top:8px;}/*!sc*/
data-styled.g32[id="list__List-sc-s5kxp2-0"]{content:"dFVIUa,"}/*!sc*/
.iNQqSl{margin:0 0 16px;}/*!sc*/
data-styled.g34[id="paragraph__Paragraph-sc-17pab92-0"]{content:"iNQqSl,"}/*!sc*/
.eooEiq{display:block;width:100%;margin:0 0 16px;overflow:auto;}/*!sc*/
.eooEiq th{font-weight:600;}/*!sc*/
.eooEiq th,.eooEiq td{padding:8px 16px;border:1px solid #e1e4e8;}/*!sc*/
.eooEiq tr{background-color:#ffffff;border-top:1px solid #e1e4e8;}/*!sc*/
.eooEiq tr:nth-child(2n){background-color:#f6f8fa;}/*!sc*/
.eooEiq img{background-color:transparent;}/*!sc*/
data-styled.g35[id="table__Table-sc-ixm5yk-0"]{content:"eooEiq,"}/*!sc*/
.drDDht{z-index:0;}/*!sc*/
data-styled.g37[id="layout___StyledBox-sc-7a5ttt-0"]{content:"drDDht,"}/*!sc*/
.flyUPp{list-style:none;}/*!sc*/
data-styled.g39[id="table-of-contents___StyledBox-sc-1jtv948-0"]{content:"flyUPp,"}/*!sc*/
.bPkrfP{grid-area:table-of-contents;overflow:auto;}/*!sc*/
data-styled.g40[id="post-page___StyledBox-sc-17hbw1s-0"]{content:"bPkrfP,"}/*!sc*/
</style><title data-react-helmet="true">Kafka Topic/Replication - Everything that I know</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/wiki/favicon-32x32.png?v=5a308f5ba2cede7d3eae15d720a4e776" type="image/png"/><link rel="manifest" href="/wiki/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/wiki/icons/icon-48x48.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="72x72" href="/wiki/icons/icon-72x72.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="96x96" href="/wiki/icons/icon-96x96.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="144x144" href="/wiki/icons/icon-144x144.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="192x192" href="/wiki/icons/icon-192x192.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="256x256" href="/wiki/icons/icon-256x256.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="384x384" href="/wiki/icons/icon-384x384.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="apple-touch-icon" sizes="512x512" href="/wiki/icons/icon-512x512.png?v=5a308f5ba2cede7d3eae15d720a4e776"/><link rel="sitemap" type="application/xml" href="/wiki/sitemap/sitemap-index.xml"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link as="script" rel="preload" href="/wiki/webpack-runtime-07e8faa2a261685889a0.js"/><link as="script" rel="preload" href="/wiki/framework-6c63f85700e5678d2c2a.js"/><link as="script" rel="preload" href="/wiki/f0e45107-3309acb69b4ccd30ce0c.js"/><link as="script" rel="preload" href="/wiki/0e226fb0-1cb0709e5ed968a9c435.js"/><link as="script" rel="preload" href="/wiki/dc6a8720040df98778fe970bf6c000a41750d3ae-8fdfd959b24cacbf7cee.js"/><link as="script" rel="preload" href="/wiki/app-3f4d8f561104a074e339.js"/><link as="script" rel="preload" href="/wiki/commons-c89ede6cb9a530ac5a37.js"/><link as="script" rel="preload" href="/wiki/component---node-modules-gatsby-theme-primer-wiki-src-templates-post-query-js-46274f1a3983fff8a36b.js"/><link as="fetch" rel="preload" href="/wiki/page-data/Technologies/Technologies/Kafka/Kafka-Topic-Replication/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/sq/d/2230547434.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/sq/d/2320115945.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/sq/d/3495835395.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/sq/d/451533639.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/wiki/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><a class="Link-sc-1brdqhf-0 fnAJEh skip-link__SkipLink-sc-1z0kjxc-0 EuMgV" color="auto.white" href="#skip-nav" font-size="1">Skip to content</a><div display="flex" color="text.primary" class="Box-nv15kw-0 ifkhtm"><div class="Box-nv15kw-0 gSrgIV"><div display="flex" height="66" color="header.text" class="Box-nv15kw-0 iTlzRc"><div display="flex" class="Box-nv15kw-0 kCrfOd"><a color="header.logo" mr="3" class="Link-sc-1brdqhf-0 czsBQU" href="/wiki/"><svg aria-hidden="true" role="img" class="StyledOcticon-uhnt7w-0 bhRGQB" viewBox="0 0 16 16" width="32" height="32" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a><a color="header.logo" font-family="mono" class="Link-sc-1brdqhf-0 kLOWMo" href="/wiki/">Deepak Wiki</a><div display="none,,,block" class="Box-nv15kw-0 gELiHA"><div role="combobox" aria-expanded="false" aria-haspopup="listbox" aria-labelledby="downshift-search-label" class="Box-nv15kw-0 gYHnkh"><span class="TextInput__Wrapper-sc-1apmpmt-1 dHfzvf dark-text-input__DarkTextInput-sc-1s2iwzn-0 khRwtY TextInput-wrapper" width="240"><input type="text" aria-autocomplete="list" aria-labelledby="downshift-search-label" autoComplete="off" value="" id="downshift-search-input" placeholder="Search Deepak Wiki" class="TextInput__Input-sc-1apmpmt-0 ljCWQd"/></span></div></div></div><div display="flex" class="Box-nv15kw-0 dMFMzl"><div display="none,,,flex" class="Box-nv15kw-0 jhCmHN"><div display="flex" color="header.text" class="Box-nv15kw-0 elXfHl"><a display="block" color="inherit" target="_blank" rel="noopener noreferrer" href="https://github.com/deepaksood619/wiki/" class="Link-sc-1brdqhf-0 kEUvCO">Github</a><a display="block" color="inherit" target="_blank" rel="noopener noreferrer" href="https://twitter.com/deepaksood619" class="Link-sc-1brdqhf-0 kEUvCO">Twitter</a></div><button aria-label="Theme" aria-expanded="false" class="ButtonBase-sc-181ps9o-0 ButtonOutline-sc-15gta9l-0 dark-button__DarkButton-sc-bvvmfe-0 cjGjQg ifFLoZ iEGqHu"><svg aria-hidden="true" role="img" class="octicon octicon-sun" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z"></path></svg></button></div><div display="flex,,,none" class="Box-nv15kw-0 gjFLbZ"><button aria-label="Search" aria-expanded="false" class="ButtonBase-sc-181ps9o-0 ButtonOutline-sc-15gta9l-0 dark-button__DarkButton-sc-bvvmfe-0 cjGjQg fKTxJr iEGqHu"><svg aria-hidden="true" role="img" class="octicon octicon-search" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg></button></div><button aria-label="Show Graph Visualisation" class="ButtonBase-sc-181ps9o-0 ButtonOutline-sc-15gta9l-0 dark-button__DarkButton-sc-bvvmfe-0 cjGjQg cXFtEt iEGqHu"><div title="Show Graph Visualisation" aria-label="Show Graph Visualisation" color="header.text" display="flex" class="Box-nv15kw-0 gucKKf"><svg t="1607341341241" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M512 512m-125.866667 0a125.866667 125.866667 0 1 0 251.733334 0 125.866667 125.866667 0 1 0-251.733334 0Z"></path><path d="M512 251.733333m-72.533333 0a72.533333 72.533333 0 1 0 145.066666 0 72.533333 72.533333 0 1 0-145.066666 0Z"></path><path d="M614.4 238.933333c0 4.266667 2.133333 8.533333 2.133333 12.8 0 19.2-4.266667 36.266667-12.8 51.2 81.066667 36.266667 138.666667 117.333333 138.666667 211.2C742.4 640 640 744.533333 512 744.533333s-230.4-106.666667-230.4-232.533333c0-93.866667 57.6-174.933333 138.666667-211.2-8.533333-14.933333-12.8-32-12.8-51.2 0-4.266667 0-8.533333 2.133333-12.8-110.933333 42.666667-189.866667 147.2-189.866667 273.066667 0 160 130.133333 292.266667 292.266667 292.266666S804.266667 672 804.266667 512c0-123.733333-78.933333-230.4-189.866667-273.066667z"></path><path d="M168.533333 785.066667m-72.533333 0a72.533333 72.533333 0 1 0 145.066667 0 72.533333 72.533333 0 1 0-145.066667 0Z"></path><path d="M896 712.533333m-61.866667 0a61.866667 61.866667 0 1 0 123.733334 0 61.866667 61.866667 0 1 0-123.733334 0Z"></path><path d="M825.6 772.266667c-74.666667 89.6-187.733333 147.2-313.6 147.2-93.866667 0-181.333333-32-249.6-87.466667-10.666667 19.2-25.6 34.133333-44.8 44.8C298.666667 942.933333 401.066667 981.333333 512 981.333333c149.333333 0 281.6-70.4 366.933333-177.066666-21.333333-4.266667-40.533333-17.066667-53.333333-32zM142.933333 684.8c-25.6-53.333333-38.4-110.933333-38.4-172.8C104.533333 288 288 104.533333 512 104.533333S919.466667 288 919.466667 512c0 36.266667-6.4 72.533333-14.933334 106.666667 23.466667 2.133333 42.666667 10.666667 57.6 25.6 12.8-42.666667 19.2-87.466667 19.2-132.266667 0-258.133333-211.2-469.333333-469.333333-469.333333S42.666667 253.866667 42.666667 512c0 74.666667 17.066667 142.933333 46.933333 204.8 14.933333-14.933333 32-27.733333 53.333333-32z"></path></svg><span display="none,,,inline" class="Text-sc-1s3uzov-0 fbaWCe">Show Graph Visualisation</span></div></button><div display="flex,,,none" class="Box-nv15kw-0 gjFLbZ"><button aria-label="Menu" aria-expanded="false" class="ButtonBase-sc-181ps9o-0 ButtonOutline-sc-15gta9l-0 dark-button__DarkButton-sc-bvvmfe-0 cjGjQg ifFLoZ iEGqHu"><svg aria-hidden="true" role="img" class="octicon octicon-three-bars" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path></svg></button></div></div></div></div><div display="flex" class="Box-nv15kw-0 layout___StyledBox-sc-7a5ttt-0 fBMuRw drDDht"><div display="none,,,block" height="calc(100vh - 66px)" color="auto.gray.8" class="Box-nv15kw-0 bQaVuO"><div height="100%" style="overflow:auto" class="Box-nv15kw-0 eeDmz"><div display="flex" class="Box-nv15kw-0 kSoTbZ"><div class="Box-nv15kw-0 nElVQ"><div display="flex" class="Box-nv15kw-0 kSoTbZ"><h2 color="text.disabled" font-size="12px" font-weight="500" class="Heading-sc-1cjoo9h-0 fTkTnC">Categories</h2><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">AI</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Algorithms</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Computer-Science</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Data-Structures</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Databases</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Knowledge</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Languages</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Mathematics</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><div color="text.secondary" font-weight="400" class="Box-nv15kw-0 nav-items__NavBox-sc-tqz5wl-1 hIjKHD kEKZhO" display="block">Technologies</div><div display="flex" class="Box-nv15kw-0 icYakO"><svg aria-hidden="true" role="img" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path></svg></div></div></div><div display="flex" class="Box-nv15kw-0 iXtyim"><div display="flex" font-size="1" class="Box-nv15kw-0 vaHQm"><a color="text.primary" class="Link-sc-1brdqhf-0 nav-items__NavLink-sc-tqz5wl-0 fdzjHV bqVpte" display="block" sx="[object Object]" href="/wiki/">wiki</a><div display="flex" class="Box-nv15kw-0 icYakO"></div></div></div></div></div></div></div></div><main class="Box-nv15kw-0 klfmeZ"><div id="skip-nav" display="flex" width="100%" class="Box-nv15kw-0 TZbDV"><div display="none,,block" class="Box-nv15kw-0 post-page___StyledBox-sc-17hbw1s-0 DPDMP bPkrfP"><span display="inline-block" font-weight="bold" class="Text-sc-1s3uzov-0 bLwTGz">On this page</span><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bzTeHX"><a display="inline-block" href="#kafka-topicreplication" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Kafka Topic/Replication</a><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#kafka-topics" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Kafka Topics</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#how-to-partition-your-events-same-event-key-to-same-partition" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">How to partition your events: Same event key to same partition</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#keysare-used-to-determine-the-partition-within-a-log-to-which-a-message-gets-appended-to-while-the-value-is-the-actual-payload-of-the-message" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Keysare used to determine the partition within a log to which a message get&#x27;s appended to. While the value is the actual payload of the message</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#kafka-replication" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Kafka Replication</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#replication-in-kafka" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Replication in Kafka</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#leader-fails" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Leader Fails</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#follower-fails" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Follower Fails</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#follower-temporarily-partitioned" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Follower Temporarily Partitioned</a></li></ul></li></ul></div><div width="100%" class="Box-nv15kw-0 meQBK"><div display="block,,none" class="Box-nv15kw-0 jYYExC"><div class="Box-nv15kw-0 hgiZBa"><div display="flex" class="Box-nv15kw-0 hnQOQh"><span font-weight="bold" class="Text-sc-1s3uzov-0 cQAYyE">On this page</span></div></div><div class="Box-nv15kw-0 gEqaxf"><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bzTeHX"><a display="inline-block" href="#kafka-topicreplication" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Kafka Topic/Replication</a><ul class="Box-nv15kw-0 table-of-contents___StyledBox-sc-1jtv948-0 gUNLMu flyUPp"><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#kafka-topics" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Kafka Topics</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#how-to-partition-your-events-same-event-key-to-same-partition" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">How to partition your events: Same event key to same partition</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#keysare-used-to-determine-the-partition-within-a-log-to-which-a-message-gets-appended-to-while-the-value-is-the-actual-payload-of-the-message" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Keysare used to determine the partition within a log to which a message get&#x27;s appended to. While the value is the actual payload of the message</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#kafka-replication" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Kafka Replication</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#replication-in-kafka" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Replication in Kafka</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#leader-fails" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Leader Fails</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#follower-fails" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Follower Fails</a></li><li class="Box-nv15kw-0 bnaGYs"><a display="inline-block" href="#follower-temporarily-partitioned" font-size="2,,1" color="auto.gray.6" class="Link-sc-1brdqhf-0 bQLMRL">Follower Temporarily Partitioned</a></li></ul></li></ul></div></div><h1 id="kafka-topicreplication" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH1-sc-1fu06k9-1 ffNRvO gCPbFb fGjcEF Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#kafka-topicreplication" color="auto.gray.8" aria-label="Kafka Topic/Replication permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Kafka Topic/Replication</h1><h2 id="kafka-topics" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#kafka-topics" color="auto.gray.8" aria-label="Kafka Topics permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Kafka Topics</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">More partitions in a Kafka cluster leads to higher throughput. However, one does have to be aware of the potential impact of having too many partitions in total or per broker on things like availability and latency.</p><ul class="list__List-sc-s5kxp2-0 dFVIUa"><li>More Partitions Lead to Higher Throughput</li><li>More Partitions Requires More Open File Handles</li><li>More Partitions May Increase Unavailability</li><li>More Partitions May Increase End-to-end Latency</li><li>More Partitions May Require More Memory In the Client</li></ul><h2 id="how-to-partition-your-events-same-event-key-to-same-partition" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#how-to-partition-your-events-same-event-key-to-same-partition" color="auto.gray.8" aria-label="How to partition your events: Same event key to same partition permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to partition your events: Same event key to same partition</h2><h2 id="keysare-used-to-determine-the-partition-within-a-log-to-which-a-message-gets-appended-to-while-the-value-is-the-actual-payload-of-the-message" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#keysare-used-to-determine-the-partition-within-a-log-to-which-a-message-gets-appended-to-while-the-value-is-the-actual-payload-of-the-message" color="auto.gray.8" aria-label="Keysare used to determine the partition within a log to which a message get&#x27;s appended to. While the value is the actual payload of the message permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Keysare used to determine the partition within a log to which a message get&#x27;s appended to. While the value is the actual payload of the message</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">The primary goal of partitioning is the <em>ordering</em>of events: producers should send &quot;related&quot; events to the same partition because Kafka guarantees the ordering of events only within a given partition of a topic - not across partitions of the same topic.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">My tip: if in doubt, use 30 partitions per topic. This is a good number because (a) it is high enough to cover some really high-throughput requirements, (b) it is low enough that you will not hit the limit anytime soon of how many partitions a single broker can handle, even if you create many topics in your Kafka cluster, and (c) it is a highly composite number as it is evenly divisible by 1, 2, 3, 5, 6, 10, 15, and 30. This benefits the processing layer because it results in a more even workload distribution across application instances when horizontally scaling out (adding app instances) and scaling in (removing instances). Since <a target="_blank" rel="noopener noreferrer" href="https://www.confluent.io/blog/apache-kafka-supports-200k-partitions-per-cluster" class="Link-sc-1brdqhf-0 cKRjba">Kafka supports hundreds of thousands of partitions</a> in a cluster, this over-partitioning strategy is a safe approach for most users.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><a target="_blank" rel="noopener noreferrer" href="https://www.confluent.io/blog/how-choose-number-topics-partitions-kafka-cluster" class="Link-sc-1brdqhf-0 cKRjba">https://www.confluent.io/blog/how-choose-number-topics-partitions-kafka-cluster</a></p><h2 id="kafka-replication" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#kafka-replication" color="auto.gray.8" aria-label="Kafka Replication permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Kafka Replication</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Once a leader is established, it needs to replicate the data to followers. In general, this can be done by either waiting for all replicas or waiting for only a quorum (majority) of replicas. There are pros and cons to both approaches.</p><table class="table__Table-sc-ixm5yk-0 eooEiq"><thead><tr><th></th><th><strong>Pros</strong></th><th><strong>Cons</strong></th></tr></thead><tbody><tr><td><strong>All Replicas</strong></td><td>Toleratesffailures withf+1replicas</td><td>Latency pegged to slowest replica</td></tr><tr><td><strong>Quorum</strong></td><td>Hides delay from a slow replica</td><td>Toleratesffailures with2f+1replicas</td></tr></tbody></table><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Waiting on all replicas means we can make progress as long as at least one replica is available. With quorum, tolerating the same amount of failures requires more replicas because we need a majority to make progress. The trade-off is that the quorum hides any delays from a slow replica. Kafka is an example of a system which uses all replicas (with some conditions on this which we will see later), and NATS Streaming is one that uses a quorum. Let&#x27;s take a look at both in more detail.</p><h2 id="replication-in-kafka" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#replication-in-kafka" color="auto.gray.8" aria-label="Replication in Kafka permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Replication in Kafka</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">In Kafka, a leader is selected (we&#x27;ll touch on this in a moment). This leader maintains an in-sync replica set (ISR) consisting of all the replicas which are fully caught up with the leader. This is every replica, by definition, at the beginning. All reads and writes go through the leader. The leader writes messages to a write-ahead log (WAL). Messages written to the WAL are considered uncommitted or &quot;dirty&quot; initially. The leader only commits a message once all replicas in the ISR have written it to their own WAL. The leader also maintains a high-water mark (HW) which is the last committed message in the WAL. This gets piggybacked on the replica fetch responses from which replicas periodically checkpoint to disk for recovery purposes. The piggybacked HW then allows replicas to know when to commit.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Only committed messages are exposed to consumers. However, producers can configure how they want to receive acknowledgements on writes. It can wait until the message is committed on the leader (and thus replicated to the ISR), wait for the message to only be written (but not committed) to the leader&#x27;s WAL, or not wait at all. This all depends on what trade-offs the producer wants to make between latency and durability.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">The graphic below shows how this replication process works for a cluster of three brokers:b1,b2, andb3. Followers are effectively special consumers of the leader&#x27;s log.</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:561px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/b2d68f998ca82967d7006ae25a785312/ee515/Technologies-Kafka-Kafka-Topic-Replication-image1.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:62.142857142857146%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACHVAAAh1QEEnLSdAAADFUlEQVQoz21Tz2sbRxR+61BXCc3BB6dQSOrKPyC28cEtdpOShOASBdlK4oO01e7Mm1lJ0a7yw/EvtTaRsWxjr7WSd9drx5haSIpxKUkP6X+Qg0+GNscE0kMppYdCoRRy3zDr4KSQgQfzhsf3fe+9bwDecyjD/wUyBMYRkCOk02mIRK5A7tYtcf8wezMbQs7CXNPO5nLGiUMASoMQxYODg7C0uATz8/NNPz16DBcvXwLf98E0TSlyNQK6rsPy8nJTqVQCy7IqpVLpd8uyfqlUKn+Uy+VJASQhoqRpmkQIkVKplPRtPg/5fB5q1SqMXI8dF6TFYhEURZHkRAI+bftMPH1Qq9We7uzs+PV63d/d3fUbjcaDQBkiAuccCCGgaRqMj483z8zMnJ6anu4wcrkLU1NTfYuLi62Kooj6Zs55+9DQ0MeO43zvOM4/nue99Dzvv/X19e9EQQcidmuaFmaMDcmyPGzbdvfa2torx3H+tm37L9d1/3Vdd59zHiaEdDLGTiaS8rFMJvNVNpuNZW5mooZhfK0bej+oqvrz7Tt3DlZXV58ahvGbLMv729vbXzYaDb9WqwXt7O3tifsrRDwnuhkdHQVCaYhSeoYi7UCG7YSSNlVVwkLhCc75SV3XmzVN64zH459bltVVLpef27b9a6VSOXBd95lt208YY32EkFOyLINY0NjYXZiYnIAfGg0YPD8QKs7fl4IZivllMpmjOS4sFUFRlR5FVb5QVfUcRXqBUnJGqBOqELF9bm4OCoVCuFgsRmZnZ29M56djqXQqBBQPl/ImJEppUzKZBMZZC+PsFOOsTQAgoy0USUCo63rrwMDAJ7Ztb25sbPie5/mbm5svJu6NNR8CvTEvYRRUokIqnYJEIg5y8psgV5RkkCNSYIxJwjPCm1tbWw+r1aovol6v/5mfHA+9VScAkQJ9hyBQz1BCFF6lAWA0GoVC4f6xhYUFYfC4aZpPVlZWfjRNc0WQCDAZES8jwy5k9DRF7EHETmTYiwzbjsAZPfpRwqtc0z6KJ+I90ZHh3pHYSE/sWqwTkfa/BiR+WRtYLtqiAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="image" title="image" src="/wiki/static/b2d68f998ca82967d7006ae25a785312/410f3/Technologies-Kafka-Kafka-Topic-Replication-image1.png" srcSet="/wiki/static/b2d68f998ca82967d7006ae25a785312/0d3e1/Technologies-Kafka-Kafka-Topic-Replication-image1.png 140w,/wiki/static/b2d68f998ca82967d7006ae25a785312/6b1e2/Technologies-Kafka-Kafka-Topic-Replication-image1.png 281w,/wiki/static/b2d68f998ca82967d7006ae25a785312/410f3/Technologies-Kafka-Kafka-Topic-Replication-image1.png 561w,/wiki/static/b2d68f998ca82967d7006ae25a785312/99072/Technologies-Kafka-Kafka-Topic-Replication-image1.png 842w,/wiki/static/b2d68f998ca82967d7006ae25a785312/62a6a/Technologies-Kafka-Kafka-Topic-Replication-image1.png 1122w,/wiki/static/b2d68f998ca82967d7006ae25a785312/ee515/Technologies-Kafka-Kafka-Topic-Replication-image1.png 1269w" sizes="(max-width: 561px) 100vw, 561px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">image</figcaption>
  </figure><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Now let&#x27;s look at a few failure modes and how Kafka handles them.</p><h2 id="leader-fails" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#leader-fails" color="auto.gray.8" aria-label="Leader Fails permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Leader Fails</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Kafka relies on <a target="_blank" rel="noopener noreferrer" href="https://zookeeper.apache.org/" class="Link-sc-1brdqhf-0 cKRjba">Apache ZooKeeper</a> for certain cluster coordination tasks, such as leader election, though this is not actually how the log leader is elected. A Kafka cluster has a single controller broker whose election is handled by ZooKeeper. This controller is responsible for performing administrative tasks on the cluster. One of these tasks is selecting a new log leader (actuallypartitionleader, but this will be described later in the series) from the ISR when the current leader dies. ZooKeeper is also used to detect these broker failures and signal them to the controller.</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:561px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/d5fc0149f51cf85e66a20fb4e6794b1d/3f20e/Technologies-Kafka-Kafka-Topic-Replication-image2.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:57.14285714285714%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAACHVAAAh1QEEnLSdAAADNklEQVQoz12S309TZxjHn3KqYsgMhMZGndPJwBhngBlccVF24WDLsD2nuLWeH89bKg0t9bS2p4fk0JbTlg6SrQmUs9JCAckILIabJsQblWR/gNcmZlk2o7volO3Gi13xmtPd7U2ePMmT9/k83/f7vAD/O/W/6vD6zWt4+eoV7P+9b/njxe9AKQWbzQbjwWDjjqqqNiWROBsMhRyRSOQc6xqG4eEvYSqZBJAkqRG1Wg0EQbA4nU4ol8uM2XhAKczkZphCoWBhWbYBy2azMD8//3hhYeHfYrH41jCMX5RY1JrVp806AM/zFiWRsKiq2iQIAvR0d8Py8rKpijmgB59wrBsMw4Dr167B+Pj4kcGhIVulUnm+urpK19fX6f3767/G5ZD1++9yUF1ZARB4AWKxGMTjcRNuz+fzbZqmZfb29h7V6/U/S6XST5lMxuF0Olt9Pt85lmVb0un0hK7rP+i6PpfNZsNyRD6kJBRIpZKmQqEai8Vq09Ppn0VReBYOh2+ura3tb29v093dXbq5uUkLhUIVAA4xVgaIjxwduTVy3sW6Ol2sq4Pl2A5R5I8Kwm3wej1g+vZxMBi8rKrqJVEUeVmWO4rF4pOtra1/arXabxsbG29yuZzc19fXurOz08S5OZicnIR0OgXtJ+yHvbc9R6wtLdB+9gr0fyE2gBAMhSCuxEEURQgEAkAIuZDP57nZudmvNU1zAwDj9985hogfdXV1NqVSKYeu65KmaXeVhNKpZbJA6UM4Zfc3tsyMjY0xd2W5SZREZiqZBo/Xc9h23Nbs6He0Xv3s6ntxJc4QQkCW5ebrAwN2wzCelMtlWq1WaalUYleMIoAlbD1x/M4xQMT/giBIKDXytx4PDHw+AD29vdDT2wO8yMPo6KjF/DbV6gosLi4+WFpaopVKhRo/loa+KjyAhdlAfzopzZiwbkT8EAm2SSi1IsF2JGhDIrWhz28OsCCRzGXAjcEbwLk568TERH/0XpSNRiM3b/n8XW/LuZNT8yOqf27wqQn81PQGCZ6UEO2I+D4SPI1EsiPxAfpGAVFsqDefTQhp9no9Z1iOPTXi5s6IwcAH2HWh4xv+YtQfu7L2Dg4UP2GKNkvFAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="image" title="image" src="/wiki/static/d5fc0149f51cf85e66a20fb4e6794b1d/410f3/Technologies-Kafka-Kafka-Topic-Replication-image2.png" srcSet="/wiki/static/d5fc0149f51cf85e66a20fb4e6794b1d/0d3e1/Technologies-Kafka-Kafka-Topic-Replication-image2.png 140w,/wiki/static/d5fc0149f51cf85e66a20fb4e6794b1d/6b1e2/Technologies-Kafka-Kafka-Topic-Replication-image2.png 281w,/wiki/static/d5fc0149f51cf85e66a20fb4e6794b1d/410f3/Technologies-Kafka-Kafka-Topic-Replication-image2.png 561w,/wiki/static/d5fc0149f51cf85e66a20fb4e6794b1d/99072/Technologies-Kafka-Kafka-Topic-Replication-image2.png 842w,/wiki/static/d5fc0149f51cf85e66a20fb4e6794b1d/62a6a/Technologies-Kafka-Kafka-Topic-Replication-image2.png 1122w,/wiki/static/d5fc0149f51cf85e66a20fb4e6794b1d/3f20e/Technologies-Kafka-Kafka-Topic-Replication-image2.png 1275w" sizes="(max-width: 561px) 100vw, 561px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">image</figcaption>
  </figure><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Thus, when the leader crashes, the cluster controller is notified by ZooKeeper and it selects a new leader from the ISR and announces this to the followers. This gives us automatic failover of the leader.All committed messages up to the HW are preserved and uncommitted messages may be lost during the failover. In this case,b1fails andb2steps up as leader.</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:561px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/9fee29aea5d0bb12589fe11c48a0784a/e8e04/Technologies-Kafka-Kafka-Topic-Replication-image3.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:44.99999999999999%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAACHVAAAh1QEEnLSdAAACaklEQVQoz1WRy2sTURTGT6aJFB9QpTZtpWJNhT7QgmIDXYmmSBubmNakzp17z52Z1BTy6sMYm1rGmHRoUgYZkT7ShARB3LnQhWvduXDvwo3gH+BW3Yzc1i784IO7uPy+c74DhBBYX1+HUrkEiqJAJpMFx3FgOhw+KRN5mHNsR5UD4wiMMZD1BYglsjC5XAXk+J8PRBSld3V1ta9cLvcQQm7n83mfZVkfLcv6ZlnWe8Mw3MlkEtLptItSCkuLWchmMpBdXAItroOqqcB1HVCPQ1qPgpjqdS6X+7D2ZO0dIeRrLpebarVavxuNhtNsNn+pqnp5ZeUhRCIRUFUVxsfHoV5vSK1Ws01sciTxPgDOx+Nun2/AI0ltEiHkUqFQ8G5ubtar1erbSqXyUtO085TSC4h4hnMOE4EAbO/swH5tDwZHhjpC4dCpG4EA3JoIArIHLtA0DcbGxqDb2w1ipZnZWU8oHB4J3gkORmYiVxFZH2NU9NfLOe8HAJdpmroINU2zWSwWR0uVKvx03riys48AEFFSNdUVn4+LjqTEQsJVLD51G4bhyT/Oe5CjxDkehKVSqRN+v79zd3f3c71eF5U4+7XazKu9HejzLrST6aUBATz0v0uJa87N3YPJYBCisSgwZCAmRESX6KpUKoFlWdu2bf+wbfv71nPb73yJtZkmuVvcuF8THwOIOIQc+5HjOeTo46i4ORJAFCAGnLNDsAhEPE4pvUIZvc4YvRaSycifrVLXshVaIRs3PwngRUTsRI5eRDyNHLs4EkkAhYVkWRagIx9jyLooo2cVea479czoCPT0DkenBgrJxOiLv4Bs8oClg2oUAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="image" title="image" src="/wiki/static/9fee29aea5d0bb12589fe11c48a0784a/410f3/Technologies-Kafka-Kafka-Topic-Replication-image3.png" srcSet="/wiki/static/9fee29aea5d0bb12589fe11c48a0784a/0d3e1/Technologies-Kafka-Kafka-Topic-Replication-image3.png 140w,/wiki/static/9fee29aea5d0bb12589fe11c48a0784a/6b1e2/Technologies-Kafka-Kafka-Topic-Replication-image3.png 281w,/wiki/static/9fee29aea5d0bb12589fe11c48a0784a/410f3/Technologies-Kafka-Kafka-Topic-Replication-image3.png 561w,/wiki/static/9fee29aea5d0bb12589fe11c48a0784a/99072/Technologies-Kafka-Kafka-Topic-Replication-image3.png 842w,/wiki/static/9fee29aea5d0bb12589fe11c48a0784a/62a6a/Technologies-Kafka-Kafka-Topic-Replication-image3.png 1122w,/wiki/static/9fee29aea5d0bb12589fe11c48a0784a/e8e04/Technologies-Kafka-Kafka-Topic-Replication-image3.png 1270w" sizes="(max-width: 561px) 100vw, 561px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">image</figcaption>
  </figure><h2 id="follower-fails" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#follower-fails" color="auto.gray.8" aria-label="Follower Fails permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Follower Fails</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">The leader tracks information on how &quot;caught up&quot; each replica is. Before Kafka 0.9, this included both how many messages a replica was behind,replica.lag.max.messages, and the amount of time since the replica last fetched messages from the leader,replica.lag.time.max.ms. Since 0.9,replica.lag.max.messageswas removed andreplica.lag.time.max.msnow refers to both the time since the last fetch requestandthe amount of time since the replica last caught up.</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:561px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/3e7a3b82a39c03fb816c9faef4861b17/d93d9/Technologies-Kafka-Kafka-Topic-Replication-image4.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:62.142857142857146%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACHVAAAh1QEEnLSdAAADOUlEQVQoz22T72tbVRjHn5tOrb82scLAKjKpc3M6Jf6KLtIfU5SINmlrk9zc89yTnJu6RFpWk675dVvSm5C0vYnlmptim0DSspDS/gFFFF/qC9+UjQ1hb1vYP7AX2/TKuWX4xgNfDhy+58PzfM9zAP5nEUr/k4yAMgJFBCojTE9PQy6XA8uywOl0PntwcOA8PDysbm21PR6P57ljACG2GGPg9XqhoGmgaZpju90W3nO9b19eXV11/HX7FiiKAs1m05FOp2FpaemH3d1d6+joyOp2u5amaQWQJMnBGHMkk0l7j0ajgqqqkM3l4Kf1OgyODD3NgcViEUZHR4VAIPCokd7NRmN/Z2fH2tvbe8iBW+12iwPtypLJpL1zpVLzvaqqvpPOZD68Onv1y0wmM5jP58/5vF7ufyoSiZx1uVx9uq6XOtevP9zf37/R6XTuV6vVFDd8xBi7fG1+3s0YmwgGg9/puv6WYRgP1tbW/jYM416tVvvHMIw7iqJcEEXxDGPsycT3CaBhOri8vByZuzb3ha7rEg1TF4RCob1YLP67pmm/xWJXbgYCgT9qNdPVarWszc1Nq9VuW9vbW1az2bwfjUaH4vEYuN1uXsgJSmn/JffHfZP+yZeGhodPI5J+u2UedCKRgEl/oMfv979eKBReKZfLv3KVSqWfK5XKLysrK9uMsTdEUXx5bGwMRkaG7ZhmZ2ftR/N85TkZZuETHCgwRRGSc3OOBTULohiCWwd/gvsT9/Oj3q/P+3y+C16fz/npZ5dfkGXKp+E0Ip7rdDqgqurbCwsLVxYXF2PpdDrCFNYLiGhLlmWQKYWQKAqLeQ3i8dgz0aloH1OUFxVF6Z/6durkoxGbmZk5NTAw0FepVEzTNK16fd0yTfNovV5/zIYRguD7RgQp5AciSRBBERCJPdC2uAcJSLLMgYJlWUK324VarWZubGzwfK1Go3G3WtGf4OYeQtAxGQwBISFAItm5EsqAUiqQ4w4EG4g2EFKpVE82m+WDPaJp2o/FYnE5n8/Pl0tlgZsnEPFzlPE1IuMZgngWEV9FGS+iTPgZ/35CGIPHvwoJMIVxPR4MBj+wcx4fe3d8YvxNRHLpX40paxhx7mVnAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="image" title="image" src="/wiki/static/3e7a3b82a39c03fb816c9faef4861b17/410f3/Technologies-Kafka-Kafka-Topic-Replication-image4.png" srcSet="/wiki/static/3e7a3b82a39c03fb816c9faef4861b17/0d3e1/Technologies-Kafka-Kafka-Topic-Replication-image4.png 140w,/wiki/static/3e7a3b82a39c03fb816c9faef4861b17/6b1e2/Technologies-Kafka-Kafka-Topic-Replication-image4.png 281w,/wiki/static/3e7a3b82a39c03fb816c9faef4861b17/410f3/Technologies-Kafka-Kafka-Topic-Replication-image4.png 561w,/wiki/static/3e7a3b82a39c03fb816c9faef4861b17/99072/Technologies-Kafka-Kafka-Topic-Replication-image4.png 842w,/wiki/static/3e7a3b82a39c03fb816c9faef4861b17/62a6a/Technologies-Kafka-Kafka-Topic-Replication-image4.png 1122w,/wiki/static/3e7a3b82a39c03fb816c9faef4861b17/d93d9/Technologies-Kafka-Kafka-Topic-Replication-image4.png 1243w" sizes="(max-width: 561px) 100vw, 561px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">image</figcaption>
  </figure><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">Thus, when a follower fails (or stops fetching messages for whatever reason), the leader will detect this based onreplica.lag.time.max.ms. After that time expires, the leader will consider the replica out of sync and remove it from the ISR. In this scenario, the cluster enters an &quot;under-replicated&quot; state since the ISR has shrunk. Specifically,b2fails and is removed from the ISR.</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:561px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/0f1604c0fee516625580c3c37597a514/e515d/Technologies-Kafka-Kafka-Topic-Replication-image5.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:47.85714285714286%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVQoz3WRzU8TURTFb0tBUDQxakgUdKMmRCSGhLoRFyaIASmlpe3AdO59w1dIayn2Q4R22pTOTAGVBRRG2oZAAS3xDzAm4MYFkBh14c6/RBMzZkZN3HiSk7y3eL93z7kQicas+wf71vLWpkUURQiHw7C8vAxLS0twv/tBQ0/vw4vff/yEbDYLyWTSsrCwAIIgwH8VCk1CeXsbXmprwBhrisfjxuOsLMuvs9lsWVGUzVwut6equc75+XlQVdWKiCAggYhDwJAHgREQQ2CMAMbGxyuKquxMhcMVnue/8Tzfsrm19UXTNL1UKukbGxumi8ViIp/Pg6Zp1QZwZHQUUuk0PInHwOl2gW/QC6LIAEZGRh5LkhQKhR5F/X7/Gx/HNRYKhc8rKyv6+vq6XigUTPDi4uIGANRbq6rg8PAQhoaG4Pj4CHRdh8mpqZrgo0CNIPgtMDo6BplMBmLRKAQCAdvExARIksSlUqmIJEnhdDodmpubi2QymVaXy9VARFeNDlEQ4ODgPSy9eA49jt4LHp/n8vCwWAfisGiLxWO2YDBY5fa4gffzcOdux+nunu4r7gH3rYEBd3t/f3+bMYnX6wVEPI+IzX19fTWyLMuqqr5TFOWtoijKXqUCgCgAEgISgfDnbOhEXbUZ59XurlWWZZuay1n6nU7w+XwQiURqHQ5Hc6lU+losFv92fXT88RMY22ljjK4To1ZidIMIW5DM+01idI0YGTGBGJkxA8GgxW63m5+urq4e5fN5fW1tTdc07UN5eweACC8RYT0RnUPCM0h4FglP0m/XElG1ATOggh9h+uk0rDxbBW6Qq5qZnelKSsnh2cQsSyQSnU5nX43RiQuJWpCwFYmakKiLyH+KCE3IvzZkLsSsCBs5znfb4/V0eLyedo7z2Ynw3i/7libUHkPxRwAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="image" title="image" src="/wiki/static/0f1604c0fee516625580c3c37597a514/410f3/Technologies-Kafka-Kafka-Topic-Replication-image5.png" srcSet="/wiki/static/0f1604c0fee516625580c3c37597a514/0d3e1/Technologies-Kafka-Kafka-Topic-Replication-image5.png 140w,/wiki/static/0f1604c0fee516625580c3c37597a514/6b1e2/Technologies-Kafka-Kafka-Topic-Replication-image5.png 281w,/wiki/static/0f1604c0fee516625580c3c37597a514/410f3/Technologies-Kafka-Kafka-Topic-Replication-image5.png 561w,/wiki/static/0f1604c0fee516625580c3c37597a514/99072/Technologies-Kafka-Kafka-Topic-Replication-image5.png 842w,/wiki/static/0f1604c0fee516625580c3c37597a514/62a6a/Technologies-Kafka-Kafka-Topic-Replication-image5.png 1122w,/wiki/static/0f1604c0fee516625580c3c37597a514/e515d/Technologies-Kafka-Kafka-Topic-Replication-image5.png 1430w" sizes="(max-width: 561px) 100vw, 561px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">image</figcaption>
  </figure><h2 id="follower-temporarily-partitioned" class="Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 heading__StyledH2-sc-1fu06k9-2 ffNRvO gCPbFb fvbkiW Heading-sc-1cjoo9h-0 heading__StyledHeading-sc-1fu06k9-0 ffNRvO gCPbFb"><a href="#follower-temporarily-partitioned" color="auto.gray.8" aria-label="Follower Temporarily Partitioned permalink" class="Link-sc-1brdqhf-0 ekSqTm"><svg aria-hidden="true" role="img" class="octicon-link" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:middle;overflow:visible"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Follower Temporarily Partitioned</h2><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">The case of a follower being temporarily partitioned, e.g. due to a transient network failure, is handled in a similar fashion to the follower itself failing. These two failure modes can really be combined since the latter is just the former with an arbitrarily long partition, i.e. it&#x27;s the difference between crash-stop and crash-recovery models.</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:561px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/0dfa56fce82fbba9772e9de17c731e50/3c492/Technologies-Kafka-Kafka-Topic-Replication-image6.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:62.142857142857146%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACHVAAAh1QEEnLSdAAADI0lEQVQoz22TXWgUVxTHz6x9sEtb+xDaGlqtNiar2VjbVShRVLBFgrrVTXbs7p177szcmTSEmEo261YyG4wZ9iM7ycwuSchCsh/WxbeW4ntpgy+C+CD6Kj7okw+FgvhQ6JQ7seJDBw7n4dz7u/9zzn8A/uejjL0RCIxR0DQlyGNjY3Dp0iT07fsMxsfH35mamnqPG7zPMI3Pp6en394CUBoE5xyi0SjMX5+Ha3NzoV9//gWOnTwOvu9DuVySLMsCwzAgn7dC+XweyuXyTcdxnjmO89BxnKeLi4vfC5DEGAtxzkOKokimaUq5XA5+vHoVfmq14PSZobAA2rYNoqYQAtGBAeju7g6vr68/bDQafrPZ9Nvttn+j3b4eKENE0HUdFEUJFGQyU2HLsnqms9n+iYmJU7nclVihUPjQNAxxNswY6x0aGupyHOeW53lPq9XqI8/zntVqNVMAo4gY45zvZ4wlksnkGdd1Bz3P+8d13T89z3teq9Veuq67GY/HP1VVtQcRtxMk2zRNG+QGP61p2jeGaZ4wTGM/EEJuT05O3i0Wi7+Njo4+kWX5drPV+rrVavkbGxu+yJ1OR7T1+OjgYFekry/ohFL6ETLczVS2R9W0vYjYQxTSLYohRNzGDQM0TdudSCR6i8XiF5VK5cHCwsKdSqWyubS0dM913ZVSqQSxWEzAuhBxbyaTgWw2C3//9QIOf3Vkuz03KwWvMcaAkDSoqgqpVCrY6vkL5/eNyMkvZVk+Il+UDw8PJ3YSQgTsXaFmxrLEtg/Nzs4mZmZmaPZK9mwqdfGt15YJlsOYlE6npYORXjBNY4fO+Qe6ru/SdO0TnesCJM7tuXz5h3C9vgbLy8udarXqr6ys+Kurq3eFkEAdVTHYtDCxQhXgugZpkgKyNSsgCoF0OhVYjFIa8X1f2vzjd9hoNDpra2v+K+vcD0yNbAskgEqQ6Ss4A0q/E3UJkYr4r5P36/W6VCqXwZ6fZ7Zt3ygUCi3btrONZgPE5RQiHkeGEYr4MSIOiIFThocQ6a7Xv+AboxGzZqq6YyQ5Eol/e67/bPzcgcRw4gAy7P8XZhVh94XQXsIAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="image" title="image" src="/wiki/static/0dfa56fce82fbba9772e9de17c731e50/410f3/Technologies-Kafka-Kafka-Topic-Replication-image6.png" srcSet="/wiki/static/0dfa56fce82fbba9772e9de17c731e50/0d3e1/Technologies-Kafka-Kafka-Topic-Replication-image6.png 140w,/wiki/static/0dfa56fce82fbba9772e9de17c731e50/6b1e2/Technologies-Kafka-Kafka-Topic-Replication-image6.png 281w,/wiki/static/0dfa56fce82fbba9772e9de17c731e50/410f3/Technologies-Kafka-Kafka-Topic-Replication-image6.png 561w,/wiki/static/0dfa56fce82fbba9772e9de17c731e50/99072/Technologies-Kafka-Kafka-Topic-Replication-image6.png 842w,/wiki/static/0dfa56fce82fbba9772e9de17c731e50/62a6a/Technologies-Kafka-Kafka-Topic-Replication-image6.png 1122w,/wiki/static/0dfa56fce82fbba9772e9de17c731e50/3c492/Technologies-Kafka-Kafka-Topic-Replication-image6.png 1300w" sizes="(max-width: 561px) 100vw, 561px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">image</figcaption>
  </figure><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">In this case,b3is partitioned from the leader. As before,replica.lag.time.max.msacts as our failure detector and causesb3to be removed from the ISR. We enter an under-replicated state and the remaining two brokers continue committing messages 4 and 5. Accordingly, the HW is updated to 5 on these brokers.</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:561px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/39b3d469351a9fe88a3b0c68ba0a062f/c56af/Technologies-Kafka-Kafka-Topic-Replication-image7.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:60.71428571428572%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACHVAAAh1QEEnLSdAAADJklEQVQoz22TT2gbRxjFP8kldWq1NCFpQ5z+MREUNYe0aXFIHGxQobQRsVRToY208816VzsikWJRohVeRZLVxWsLaSt5YyMtGEt2Hdo0fw6FQi8lpj0UckyoD0lIj+01gdBDD9kwm+JeMvBg4Bt+vHlvBuAFi1D0JFIKSAkgRUBJAoII2WwWIpHTkEymfBnGXsmcOx9AiR5VFPldxtTAcwAhnhRFgfHxcTBNEwzD8D998gSOnxiFrVtbUKvVfIVCgQN9xWIRdF0fsizrt2azeb/ZbN61LGu70WhsgyiKflVV/Zqm+WVZ9jHGfKVSCbju37kDE+GJ3d9/dxVKly4Bn01NTYH1TQsuXJgJ9fv9f9fW1txer+9eubLp9vt9lwNBVVXQNA1kWfZcapoWqFQqoYKmfTyTn/m0WCweL5fLB/g5SuneZDJ5OJPJBNvt9q+tVutBq9X6Y2lpaduyrHscOJpW1Qld10dlWU7G4/GEbduf2Lbtttvtf2zbfnz5su02Go2fw+HwQVmWR3iuBMlrBEmYIJkQCRkjSE4RIoYglUrdPJ/N/m4Yxi+MsYfxePzGt5ubkV6v566urrrr6+vuxsaG6zjd2wAwEAwGvXIIISOyPH1QSSvDSjp9iEr0HZGIAe/KaVWFfD4PkjQ9GIvFhk3T/LBer99aWFj4aXFx8cd6vb5lmqau6zovx08IeZsQ8gYvqVqtwt4D+wdPRz4b+uvvR+CVkk6n/fl8fkAQzkJCEMB1XRg7NbZvMhYNRWPRI9FY9Oixjz7YLQgCd/YmIeQtnnelUqGGYVysVqtfz87Ohg3DAEBETyzHQJIkSCQSvouFgi+Xyw6xDNujqup+lbF9uVx2l8oYBwYnY1Nw7Yer0Ol0/ux2u67jOG6n0zGXl5f/B/LH62VDn+8Ryc7sv8y4BhFxhMd08/o1cBznHofxrB2nO7+ysuIBX0fEV5HiAEFPLyHFXYr0QqAfEV9OpVLehyiXy2KtVvtqbm6uUCqVTs7Pmx7wS0QMI8X3CMURRHwfEY94DjmE7sB2RCUKVJIC0S9iw2cmzxyORD4/JJwVQtK0tOcZLYdfJBbBuf8AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="image" title="image" src="/wiki/static/39b3d469351a9fe88a3b0c68ba0a062f/410f3/Technologies-Kafka-Kafka-Topic-Replication-image7.png" srcSet="/wiki/static/39b3d469351a9fe88a3b0c68ba0a062f/0d3e1/Technologies-Kafka-Kafka-Topic-Replication-image7.png 140w,/wiki/static/39b3d469351a9fe88a3b0c68ba0a062f/6b1e2/Technologies-Kafka-Kafka-Topic-Replication-image7.png 281w,/wiki/static/39b3d469351a9fe88a3b0c68ba0a062f/410f3/Technologies-Kafka-Kafka-Topic-Replication-image7.png 561w,/wiki/static/39b3d469351a9fe88a3b0c68ba0a062f/99072/Technologies-Kafka-Kafka-Topic-Replication-image7.png 842w,/wiki/static/39b3d469351a9fe88a3b0c68ba0a062f/62a6a/Technologies-Kafka-Kafka-Topic-Replication-image7.png 1122w,/wiki/static/39b3d469351a9fe88a3b0c68ba0a062f/c56af/Technologies-Kafka-Kafka-Topic-Replication-image7.png 1231w" sizes="(max-width: 561px) 100vw, 561px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">image</figcaption>
  </figure><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">When the partition heals,b3continues reading from the leader and catching up. Once it is fully caught up with the leader, it&#x27;s added back into the ISR and the cluster resumes its fully replicated state.</p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:561px">
      <a class="Link-sc-1brdqhf-0 cKRjba gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener noreferrer" href="/wiki/static/49170272592b63ae4bc1febf90732825/248b0/Technologies-Kafka-Kafka-Topic-Replication-image8.png">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:60.71428571428572%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACHVAAAh1QEEnLSdAAADG0lEQVQoz22T32scVRTHz2xaWX8UQxNL1QaSp6S/aClpC3EbaorBp05MMtmEnXvuzJ0f22TW7kKSATeTmZ2FOJtkyOymD9n8It2YB9EK4otK65NQqE8Koij+CT5YBcGnkTuJRcELX+6Pc+/ncs/3XID/aYQiyBSBUJqMKZdCgSBCsVgE08wDVZSUpmlpxlg7UrygMvUMU9X0IYCQRLquQyaTgeD9APxqNRXHMfRfvwpffP6lUKlUBNu2YXZ2NuV5HiwtLb0ahuGT1dXVH8Iw/C4Mwx+Xl5e/AlmWU4ZhpGzbTjFVFUzTFBYWFqBcLsNfv/0BN94cTLdaHyRzHhsaGoIHDz4Bz/MG9u7fj7e3t+P9/f241WrFe3t7TzkQDMMAfjtjKmiaxscnHMfpm5ub679bvPuWbdtXHcc5ZZomKIryiiRJ3fPz85eiKPpmbW3t5yiKvq/X6z+FYfg1B14zDONmuVy+zhjLSZI0sX7v3tv1ej2OoujP9fX13xuNRryysvLh4OCN04yxboIECJJOQsgtguSmTOQMQZKRZbkbcrncxzOW9bharT40TfMXSZI+Ojg4GNnd3Y13dnaSp3A1Go1v+/p6O4eHhwG5YUhOMMbOaLr2uqZrXUxjPYV3Cy88e3KpVAJVVdOiKL4WBEF/EASPgiD4LAiCT2u12kPf98uiKHapqnqKn0EkSV5d14Vzly6+xM2tLdcgMUXX9VSpVGzLyQQmJyd5TBh4Y6Djtni7TxwRz4+8M3IFBGjLZid4NXTLstxlGHqqUqkYvu/brus6ruu+5/v+LCBiIjWv8YRDNpsVeGkUCoUX83fy7aZpdpp5s8OyrOfyd/I8DlNTUx2I9OLGxsbTZrMZc3G3t7a24mfAo7wk/b/X/pkfGQGWZQnT09O8Ztubzeavm5ubCYgDufjmk4j4MlI8RpAcQ4rHkWIbUkzzNUWR/wOcsWagWCqCotDjjuOoruuWFhcXC1ye5+X55lFEvIUUe5FiDyKeRcQepHgNkZw+BKFgUvHwRyERjuBd0oTUPzo2enlsfOzy+PjYlbPnep//G3dvYFZ55U/WAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="image__Image-sc-1r30dtv-0 elBfYx gatsby-resp-image-image" alt="image" title="image" src="/wiki/static/49170272592b63ae4bc1febf90732825/410f3/Technologies-Kafka-Kafka-Topic-Replication-image8.png" srcSet="/wiki/static/49170272592b63ae4bc1febf90732825/0d3e1/Technologies-Kafka-Kafka-Topic-Replication-image8.png 140w,/wiki/static/49170272592b63ae4bc1febf90732825/6b1e2/Technologies-Kafka-Kafka-Topic-Replication-image8.png 281w,/wiki/static/49170272592b63ae4bc1febf90732825/410f3/Technologies-Kafka-Kafka-Topic-Replication-image8.png 561w,/wiki/static/49170272592b63ae4bc1febf90732825/99072/Technologies-Kafka-Kafka-Topic-Replication-image8.png 842w,/wiki/static/49170272592b63ae4bc1febf90732825/62a6a/Technologies-Kafka-Kafka-Topic-Replication-image8.png 1122w,/wiki/static/49170272592b63ae4bc1febf90732825/248b0/Technologies-Kafka-Kafka-Topic-Replication-image8.png 1316w" sizes="(max-width: 561px) 100vw, 561px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
    <figcaption font-size="1" color="auto.gray.5" class="Text-sc-1s3uzov-0 hHOTlN gatsby-resp-image-figcaption">image</figcaption>
  </figure><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl">We can generalize this to the crash-recovery model. For example, instead of a network partition, the follower could crash and be restarted later. When the failed replica is restarted, it recovers the HW from disk and truncates its log up to the HW. This preserves the invariant that messages after the HW are not guaranteed to be committed. At this point, it can begin catching up from the leader and will end up with a log consistent with the leader&#x27;s once fully caught up.</p><p class="paragraph__Paragraph-sc-17pab92-0 iNQqSl"><a target="_blank" rel="noopener noreferrer" href="https://bravenewgeek.com/building-a-distributed-log-from-scratch-part-2-data-replication" class="Link-sc-1brdqhf-0 cKRjba">https://bravenewgeek.com/building-a-distributed-log-from-scratch-part-2-data-replication</a></p><div class="Box-nv15kw-0 ksEcN"><div display="flex" class="Box-nv15kw-0 jsSpbO"><a href="https://github.com/deepaksood619/wiki/tree/main/Technologies/Technologies/Kafka/Kafka-Topic-Replication.md" class="Link-sc-1brdqhf-0 iLYDsn"><svg aria-hidden="true" role="img" class="StyledOcticon-uhnt7w-0 fafffn" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path></svg>Edit this page</a><div><span font-size="1" color="auto.gray.7" class="Text-sc-1s3uzov-0 gHwtLv">Last updated on<!-- --> <b>1/7/2023</b></span></div></div></div></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id="></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/Technologies/Technologies/Kafka/Kafka-Topic-Replication/";window.___webpackCompilationHash="a90f4a594c9e502012ae";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2526e2a471eef3b9c3b2.js"],"app":["/app-3f4d8f561104a074e339.js"],"component---node-modules-gatsby-theme-primer-wiki-src-pages-404-js":["/component---node-modules-gatsby-theme-primer-wiki-src-pages-404-js-bd1c4b7f67a97d4f99af.js"],"component---node-modules-gatsby-theme-primer-wiki-src-templates-latest-query-js":["/component---node-modules-gatsby-theme-primer-wiki-src-templates-latest-query-js-6ed623c5d829c1a69525.js"],"component---node-modules-gatsby-theme-primer-wiki-src-templates-post-query-js":["/component---node-modules-gatsby-theme-primer-wiki-src-templates-post-query-js-46274f1a3983fff8a36b.js"]};/*]]>*/</script><script src="/wiki/polyfill-2526e2a471eef3b9c3b2.js" nomodule=""></script><script src="/wiki/component---node-modules-gatsby-theme-primer-wiki-src-templates-post-query-js-46274f1a3983fff8a36b.js" async=""></script><script src="/wiki/commons-c89ede6cb9a530ac5a37.js" async=""></script><script src="/wiki/app-3f4d8f561104a074e339.js" async=""></script><script src="/wiki/dc6a8720040df98778fe970bf6c000a41750d3ae-8fdfd959b24cacbf7cee.js" async=""></script><script src="/wiki/0e226fb0-1cb0709e5ed968a9c435.js" async=""></script><script src="/wiki/f0e45107-3309acb69b4ccd30ce0c.js" async=""></script><script src="/wiki/framework-6c63f85700e5678d2c2a.js" async=""></script><script src="/wiki/webpack-runtime-07e8faa2a261685889a0.js" async=""></script></body></html>